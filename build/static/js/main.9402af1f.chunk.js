(this.webpackJsonpeventtracker_react=this.webpackJsonpeventtracker_react||[]).push([[0],{107:function(e,t,a){},110:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){"use strict";a.r(t);var n,c=a(1),i=a.n(c),r=a(22),o=a.n(r),s=a(2),l=a(3),d=a(14),u=a(55),b=a(56),j=a(11),m="GET_ERRORS",p="CREATE_MESSAGE",v="LOGIN_SUCCESS",f="LOGIN_FAIL",O="LOGOUT_SUCCESS",h="USER_LOADED",x="USER_LOADING",y="AUTH_ERROR",_="DATE_NEW",g="USER_NEW",N="NOTICE_GETLATEST",w="IMOVEL_UPDATELOG",E=a(9),D=a.n(E),S=function(e){return{type:p,payload:e}},A=function(e){var t,a;return e.response?(t=e.response.data,a=e.response.status):(t={undefined_error:[e]},a="undefined_error"),{type:m,payload:{msg:t,status:a}}},T=function(){return function(e,t){var a=Y(t);null!=a?(e({type:x}),D.a.get("https://api.auditoriaitajai.com.br/api/auth/login/",a).then((function(t){e({type:h,payload:t.data}),e({type:g,payload:t.data.user})})).catch((function(t){e(A(t)),e({type:y})}))):e({type:y})}},M=function(){return function(e,t){var a=Y(t);null!=a?D.a.post("https://api.auditoriaitajai.com.br/api/auth/logout/",null,a).then((function(t){e({type:O})})).catch((function(t){e(A(t))})):e({type:y})}},C=function(){return function(e,t){var a=Y(t);null!=a?D.a.post("https://api.auditoriaitajai.com.br/api/auth/logoutall/",null,a).then((function(t){e({type:O})})).catch((function(t){e(A(t))})):e({type:y})}},Y=function(e,t){var a=e().auth.token;if(null==a)return null;void 0===t&&(t={"Content-Type":"application/json"});var n={headers:t};return a&&(n.headers.Authorization="Token ".concat(a)),n},k=a(57),R=[],L=function(e,t){return e&&t&&"multipart/form-data"===t["Content-Type"]?Object.keys(e).reduce((function(t,a){return t.append(a,e[a]),t}),new FormData):e},I=function e(t,a){var c=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{"Content-Type":"application/json"};if(Object(k.a)(this,e),this.create=function(e){return function(t,a){D.a.post(c.url,L(e,c.header),Y(a,c.header)).then((function(e){t({type:c.types.CREATE,payload:e.data}),t(S({CRUDcreate:"Criado com sucesso"}))})).catch((function(e){return t(A(e))}))}},this.read=function(e){return function(t,a){var n=Object.assign({},{params:L(e,c.header)},Y(a,c.header));D.a.get(c.url,n).then((function(e){t({type:c.types.READ,payload:e.data})})).catch((function(e){t(A(e))}))}},this.readOptions=function(){return function(e,t){D.a.options(c.url,Y(t,c.header)).then((function(t){e({type:c.types.READ_OPTIONS,payload:t.data})})).catch((function(t){return e(A(t))}))}},this.update=function(e){return function(t,a){D.a.patch(c.url+e.id+"/",L(e,c.header),Y(a,c.header)).then((function(e){t({type:c.types.UPDATE,payload:e.data}),t(S({CRUDupdate:"Atualizado com sucesso"}))})).catch((function(e){return t(A(e))}))}},this.delete=function(e){return function(t,a){D.a.delete(c.url+e+"/",Y(a,n)).then((function(a){t({type:c.types.DELETE,payload:e}),t(S({CRUDdelete:"Deletado com sucesso"}))})).catch((function(e){return t(A(e))}))}},R.includes(t))throw new Error('nome: "'+t+'" j\xe1 existe, o nome deve ser unico.');R.push(t),this.nome=t,this.url=a,this.types={CREATE:"CREATE_"+this.nome.toUpperCase(),READ:"READ_"+this.nome.toUpperCase(),READ_OPTIONS:"READ_OPTIONS"+this.nome.toUpperCase(),UPDATE:"UPDATE_"+this.nome.toUpperCase(),DELETE:"DELETE_"+this.nome.toUpperCase()},this.header=i},U=a(8),V=a.n(U),F=new I("notice","https://api.auditoriaitajai.com.br/api/notice/"),P={notices:[]};var B=new I("noticecolor","https://api.auditoriaitajai.com.br/api/noticecolor/"),z={notice_colors:[]};var q=new I("noticeeventtype","https://api.auditoriaitajai.com.br/api/noticeeventtype/"),G={notice_event_types:[]};var H=new I("noticeeventtypefile","https://api.auditoriaitajai.com.br/api/noticeeventtypefile/",{"Content-Type":"multipart/form-data"}),J={notice_event_type_files:[]};var W=Object(d.combineReducers)({notices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.types.CREATE:return Object(s.a)(Object(s.a)({},e),{},{notices:[].concat(Object(j.a)(e.notices),[t.payload])});case F.types.READ:return Object(s.a)(Object(s.a)({},e),{},{notices:t.payload});case F.types.UPDATE:return Object(s.a)(Object(s.a)({},e),{},{notices:e.notices.map((function(e){return e.id===t.payload.id?t.payload:e}))});case F.types.DELETE:return Object(s.a)(Object(s.a)({},e),{},{notices:e.notices.filter((function(e){return e.id!==t.payload}))});case N:return null===t.payload.imovel_id||e.notices.find((function(e){return e.id===t.payload.id}))?e:Object(s.a)(Object(s.a)({},e),{},{notices:[].concat(Object(j.a)(e.notices),[t.payload])});default:return e}},notice_event_types:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.types.CREATE:return Object(s.a)(Object(s.a)({},e),{},{notice_event_types:[].concat(Object(j.a)(e.notice_event_types),[t.payload])});case q.types.READ:return Object(s.a)(Object(s.a)({},e),{},{notice_event_types:t.payload});case q.types.UPDATE:return Object(s.a)(Object(s.a)({},e),{},{notice_event_types:e.notice_event_types.map((function(e){return e.id===t.payload.id?t.payload:e}))});case q.types.DELETE:return Object(s.a)(Object(s.a)({},e),{},{notice_event_types:e.notice_event_types.filter((function(e){return e.id!==t.payload}))});default:return e}},notice_event_type_files:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H.types.CREATE:return Object(s.a)(Object(s.a)({},e),{},{notice_event_type_files:[].concat(Object(j.a)(e.notice_event_type_files),[t.payload])});case H.types.READ:return Object(s.a)(Object(s.a)({},e),{},{notice_event_type_files:t.payload});case H.types.UPDATE:return Object(s.a)(Object(s.a)({},e),{},{notice_event_type_files:e.notice_event_type_files.map((function(e){return e.id===t.payload.id?t.payload:e}))});case H.types.DELETE:return Object(s.a)(Object(s.a)({},e),{},{notice_event_type_file_files:e.notice_event_type_file_files.filter((function(e){return e.id!==t.payload}))});default:return e}},notice_colors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B.types.CREATE:return Object(s.a)(Object(s.a)({},e),{},{notice_colors:[].concat(Object(j.a)(e.notice_colors),[t.payload])});case B.types.READ:return Object(s.a)(Object(s.a)({},e),{},{notice_colors:t.payload});case B.types.UPDATE:return Object(s.a)(Object(s.a)({},e),{},{notice_colors:e.notice_colors.map((function(e){return e.id===t.payload.id?t.payload:e}))});case B.types.DELETE:return Object(s.a)(Object(s.a)({},e),{},{notice_colors:e.notice_colors.filter((function(e){return e.id!==t.payload}))});default:return e}}}),$=new I("survey","https://api.auditoriaitajai.com.br/api/survey/"),K={surveys:[]};var Q=new I("surveyeventtype","https://api.auditoriaitajai.com.br/api/surveyeventtype/"),X={survey_event_types:[]};var Z=Object(d.combineReducers)({surveys:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.types.CREATE:return Object(s.a)(Object(s.a)({},e),{},{surveys:[].concat(Object(j.a)(e.surveys),[t.payload])});case $.types.READ:return Object(s.a)(Object(s.a)({},e),{},{surveys:t.payload});case $.types.UPDATE:return Object(s.a)(Object(s.a)({},e),{},{surveys:e.surveys.map((function(e){return e.id===t.payload.id?t.payload:e}))});case $.types.DELETE:return Object(s.a)(Object(s.a)({},e),{},{surveys:e.surveys.filter((function(e){return e.id!==t.payload}))});default:return e}},survey_event_types:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q.types.CREATE:return Object(s.a)(Object(s.a)({},e),{},{survey_event_types:[].concat(Object(j.a)(e.survey_event_types),[t.payload])});case Q.types.READ:return Object(s.a)(Object(s.a)({},e),{},{survey_event_types:t.payload});case Q.types.UPDATE:return Object(s.a)(Object(s.a)({},e),{},{survey_event_types:e.survey_event_types.map((function(e){return e.id===t.payload.id?t.payload:e}))});case Q.types.DELETE:return Object(s.a)(Object(s.a)({},e),{},{survey_event_types:e.survey_event_types.filter((function(e){return e.id!==t.payload}))});default:return e}}}),ee=new I("report","https://api.auditoriaitajai.com.br/api/report/"),te={reports:[]};var ae=new I("reporteventtype","https://api.auditoriaitajai.com.br/api/reporteventtype/"),ne={report_event_types:[]};var ce=Object(d.combineReducers)({reports:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee.types.CREATE:return Object(s.a)(Object(s.a)({},e),{},{reports:[].concat(Object(j.a)(e.reports),[t.payload])});case ee.types.READ:return Object(s.a)(Object(s.a)({},e),{},{reports:t.payload});case ee.types.UPDATE:return Object(s.a)(Object(s.a)({},e),{},{reports:e.reports.map((function(e){return e.id===t.payload.id?t.payload:e}))});case ee.types.DELETE:return Object(s.a)(Object(s.a)({},e),{},{reports:e.reports.filter((function(e){return e.id!==t.payload}))});default:return e}},report_event_types:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae.types.CREATE:return Object(s.a)(Object(s.a)({},e),{},{report_event_types:[].concat(Object(j.a)(e.report_event_types),[t.payload])});case ae.types.READ:return Object(s.a)(Object(s.a)({},e),{},{report_event_types:t.payload});case ae.types.UPDATE:return Object(s.a)(Object(s.a)({},e),{},{report_event_types:e.report_event_types.map((function(e){return e.id===t.payload.id?t.payload:e}))});case ae.types.DELETE:return Object(s.a)(Object(s.a)({},e),{},{report_event_types:e.report_event_types.filter((function(e){return e.id!==t.payload}))});default:return e}}}),ie=new I("activity","https://api.auditoriaitajai.com.br/api/activity/"),re={activitys:[]};var oe=Object(d.combineReducers)({activitys:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie.types.CREATE:return Object(s.a)(Object(s.a)({},e),{},{activitys:[].concat(Object(j.a)(e.activitys),[t.payload])});case ie.types.READ:return Object(s.a)(Object(s.a)({},e),{},{activitys:t.payload});case ie.types.UPDATE:return Object(s.a)(Object(s.a)({},e),{},{activitys:e.activitys.map((function(e){return e.id===t.payload.id?t.payload:e}))});case ie.types.DELETE:return Object(s.a)(Object(s.a)({},e),{},{activitys:e.activitys.filter((function(e){return e.id!==t.payload}))});default:return e}}}),se=new I("imovel","https://api.auditoriaitajai.com.br/api/imovel/"),le=function(){return function(e,t){D.a.get("https://api.auditoriaitajai.com.br/api/imovelupdatelog/",Y(t)).then((function(t){e({type:w,payload:t.data})})).catch((function(t){"ECONNABORTED"===!t.code&&e(A(t))}))}},de={imoveis:[]};var ue={};var be=Object(d.combineReducers)({imoveis:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se.types.CREATE:return Object(s.a)(Object(s.a)({},e),{},{imoveis:[].concat(Object(j.a)(e.imoveis),[t.payload])});case se.types.READ:return Object(s.a)(Object(s.a)({},e),{},{imoveis:t.payload.results});case se.types.UPDATE:return Object(s.a)(Object(s.a)({},e),{},{imoveis:e.imoveis.map((function(e){return e.id===t.payload.id?t.payload:e}))});case se.types.DELETE:return Object(s.a)(Object(s.a)({},e),{},{imoveis:e.imoveis.filter((function(e){return e.id!==t.payload}))});default:return e}},updatelog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(s.a)({},t.payload);default:return e}}}),je=new I("user","https://api.auditoriaitajai.com.br/api/user/"),me={users:[],current:{}};var pe=new I("userprofile","https://api.auditoriaitajai.com.br/api/userprofile/"),ve={users:[]};var fe=Object(d.combineReducers)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je.types.CREATE:return Object(s.a)(Object(s.a)({},e),{},{users:[].concat(Object(j.a)(e.users),[t.payload])});case je.types.READ:return Object(s.a)(Object(s.a)({},e),{},{users:t.payload});case je.types.UPDATE:return Object(s.a)(Object(s.a)({},e),{},{users:e.users.map((function(e){return e.id===t.payload.id?t.payload:e}))});case je.types.DELETE:return Object(s.a)(Object(s.a)({},e),{},{users:e.users.filter((function(e){return e.id!==t.payload}))});case g:return Object(s.a)(Object(s.a)({},e),{},{current:t.payload});default:return e}},userprofiles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe.types.CREATE:return Object(s.a)(Object(s.a)({},e),{},{users:[].concat(Object(j.a)(e.users),[t.payload])});case pe.types.READ:return Object(s.a)(Object(s.a)({},e),{},{users:t.payload});case pe.types.UPDATE:return Object(s.a)(Object(s.a)({},e),{},{users:e.users.map((function(e){return e.id===t.payload.id?t.payload:e}))});case pe.types.DELETE:return Object(s.a)(Object(s.a)({},e),{},{users:e.users.filter((function(e){return e.id!==t.payload}))});default:return e}}}),Oe={token:localStorage.getItem("token"),isAuthenticated:null,user:null,isLoading:null};var he={msg:{},status:null};var xe={};var ye=Object(d.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(s.a)(Object(s.a)({},e),{},{isLoading:!0});case h:return Object(s.a)(Object(s.a)(Object(s.a)({},e),t.payload),{},{isAuthenticated:!0,isLoading:!1});case"UPDATE_USERPROFILE":return Object(s.a)(Object(s.a)({},e),{},{user:e.user.id===t.payload.id?t.payload:e.user,isAuthenticated:!0,isLoading:!1});case v:return localStorage.removeItem("token"),localStorage.setItem("token",t.payload.token),Object(s.a)(Object(s.a)(Object(s.a)({},e),t.payload),{},{isAuthenticated:!0,isLoading:!1});case y:case f:case O:return localStorage.removeItem("token"),Object(s.a)(Object(s.a)({},e),{},{token:null,user:null,isAuthenticated:!1,isLoading:!1});default:return e}},user:fe,notice:W,survey:Z,report:ce,activity:oe,errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return{msg:t.payload.msg,status:t.payload.status};default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return t.payload;default:return e}},date:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return t.payload;default:return e}},imovel:be}),_e=[b.a],ge=Object(d.createStore)(ye,{},Object(u.composeWithDevTools)(d.applyMiddleware.apply(void 0,_e))),Ne=(a(107),["api/imovelupdatelog/","api/imovel/"]);D.a.interceptors.request.use((function(e){return Ne.includes(e.url.replace("https://api.auditoriaitajai.com.br/",""))||document.body.classList.add("loading-indicator"),e}),(function(e){return document.body.classList.remove("loading-indicator"),Promise.reject(e)})),D.a.interceptors.response.use((function(e){return document.body.classList.remove("loading-indicator"),e}),(function(e){return document.body.classList.remove("loading-indicator"),Promise.reject(e)}));var we=a(32),Ee=a(15),De=a(13),Se=a(17),Ae=a(0),Te=function(){return Object(Ae.jsx)("div",{className:"w-100 h-100 d-grid justify-content-center align-content-center",children:Object(Ae.jsx)("div",{className:"spinner-border",role:"status"})})},Me=function(e){var t=e.component,a=Object(Se.a)(e,["component"]),n=Object(l.c)((function(e){return e.auth}));return Object(Ae.jsx)(De.b,Object(s.a)(Object(s.a)({},a),{},{render:function(e){return n.isLoading||null==n.isAuthenticated?Object(Ae.jsx)(Te,{}):n.isAuthenticated?Object(Ae.jsx)(t,Object(s.a)({},e)):Object(Ae.jsx)(De.a,{to:"/login"})}}))},Ce=function(){return Object(Ae.jsxs)("div",{children:[Object(Ae.jsx)("h1",{children:"404 - Pagina n\xe3o encontrada!"}),Object(Ae.jsx)(Ee.b,{to:"/",children:"Ir para pagina inicial"})]})},Ye=(a(110),function(e){var t=e.to,a=e.children;return Object(Ae.jsx)(De.b,{exact:!0,path:t,children:function(e){var n=e.match;return Object(Ae.jsx)("li",{className:n?"nav-item active":"nav-item",children:Object(Ae.jsx)(Ee.c,{activeClassName:"active",className:"nav-link","aria-current":"page",to:t,children:a})})}})}),ke=function(){var e,t=Object(l.c)((function(e){return e.auth}));return e=t.isAuthenticated?Object(Ae.jsx)(Ee.c,{to:"/login",activeClassName:"d-none",className:"btn btn-outline-primary",children:"Sair"}):Object(Ae.jsx)(Ee.c,{to:"/login",activeClassName:"d-none",className:"btn btn-outline-primary",children:"entrar"}),Object(Ae.jsxs)("nav",{className:"navbar navbar-dark bg-dark navbar-expand-lg p-2",children:[Object(Ae.jsx)("img",{style:{height:"35px"},className:"d-none d-xl-inline-block mr-2",alt:"",src:"/Logo.png"}),Object(Ae.jsxs)("div",{className:"container-fluid",children:[Object(Ae.jsx)("span",{className:"navbar-brand",href:"/",disabled:"disabled",children:t.user?"AFM "+t.user.first_name+" "+t.user.last_name:"Event Tracker"}),Object(Ae.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(Ae.jsx)("span",{className:"navbar-toggler-icon"})}),Object(Ae.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(Ae.jsxs)("ul",{className:"navbar-nav mr-auto mb-2 mb-lg-0",children:[Object(Ae.jsx)(Ye,{to:"/perfil",children:"Perfil"}),Object(Ae.jsx)(Ye,{to:"/",children:"Calendario"}),Object(Ae.jsx)(Ye,{to:"/tarefas",children:"Tarefas do Dia"}),Object(Ae.jsx)(Ye,{to:"/aconcluir",children:"A Concluir"}),Object(Ae.jsx)(Ye,{to:"/busca",children:"Buscar"}),Object(Ae.jsx)(Ye,{to:"/incompativel",children:"Verifica\xe7\xe3o de im\xf3vel"}),t&&t.user&&t.user.is_staff&&Object(Ae.jsx)(Ye,{to:"/admin",children:"Administra\xe7\xe3o"}),Object(Ae.jsx)("li",{className:"nav-item ml-lg-5",children:Object(Ae.jsx)("a",{className:"nav-link",href:"https://github.com/JonasBM/eventtracker_react/wiki",target:"_blank",rel:"noreferrer noopener",type:"button",title:"Ajuda",children:"Ajuda"})})]}),e]})]})]})},Re=function(){return Object(Ae.jsx)("footer",{className:"container-fluid bg-light",children:Object(Ae.jsx)("span",{className:"text-muted",children:"\xa92020 Jonas Martins"})})};function Le(e){var t=Object(c.useRef)();return Object(c.useEffect)((function(){t.current=e}),[e]),t.current}var Ie=function(e,t){var a=Object(l.c)((function(e){return e})),n=a.errors,i=a.messages,r=Le(n),o=Le(i),s=Object(we.b)(),d=Object(De.g)();return Object(c.useEffect)((function(){n!==r&&(n.msg.username&&s.error("Usu\xe1rio: ".concat(n.msg.username.join())),n.msg.password&&s.error("Senha: ".concat(n.msg.password.join())),n.msg.non_field_errors&&s.error(n.msg.non_field_errors.join()),n.msg.detail&&s.error(n.msg.detail),n.msg.undefined_error&&s.error(n.msg.undefined_error.join()),n.status>=300&&(n.msg||s.error(n.status))),i!==o&&(i.CRUDcreate&&s.success(i.CRUDcreate),i.CRUDread&&s.success(i.CRUDread),i.CRUDupdate&&s.success(i.CRUDupdate),i.CRUDdelete&&s.success(i.CRUDdelete),i.ERROR&&s.error(i.ERROR),i.INFO&&s.info(i.INFO),i.SUCCESS&&s.success(i.SUCCESS))}),[n,r,i,o,s,d]),Object(Ae.jsx)(c.Fragment,{})},Ue=function(e){var t=e.style,a=e.options,n=e.message,c=e.close,i="";return"info"===a.type?i="alert-info":"success"===a.type?i="alert-success":"error"===a.type&&(i="alert-danger"),Object(Ae.jsxs)("div",{className:"alert alert-dismissible fade show "+i,role:"alert",style:t,children:[n,Object(Ae.jsx)("button",{className:"close",onClick:c,children:Object(Ae.jsx)("span",{children:"\xd7"})})]})},Ve=a(6),Fe=a.n(Ve),Pe=a(4);a(52),a(112);var Be=function(e){var t=e.toString().match(/^\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/g),a=e.toString().match(/^\d{4}-(0[1-9]|1[012])$/g);if(null!==t){var n=t[0].split("-");return new Date(n[0],n[1]-1,n[2])}if(null!==a){var c=a[0].split("-");return new Date(c[0],c[1]-1)}return new Date},ze=function(e){if(e)return ge.getState().notice.notice_colors.notice_colors.find((function(t){return t.css_name===e.css_name}))},qe=function(e){if(e)return ge.getState().notice.notice_event_types.notice_event_types.find((function(t){return t.id===e.notice_event_type}))},Ge=function(e){for(var t=0;t<e.notice_events.length;t++)if(!e.notice_events[t].concluded)return!1;return!0},He=function(e){if(e)return ge.getState().survey.survey_event_types.survey_event_types.find((function(t){return t.id===e.survey_event_type}))},Je=function(e){if(e)return ge.getState().report.report_event_types.report_event_types.find((function(t){return t.id===e.report_event_type}))},We=function(e){if(e)for(var t=0;t<e.notice_events.length;t++){if("Vistoria Administrativa"===qe(e.notice_events[t]).name)return e.notice_events[t]}return!1},$e=function(e){if(e){for(var t=ge.getState().notice.notice_event_type_files.notice_event_type_files,a=0;a<t.length;a++)if(e.id===t[a].notice_event_type)return!0;return!1}},Ke=function(e){return window.history.pushState(null,null,"#"+e.format("YYYY-MM-DD")),{type:_,payload:e}},Qe=function(e){var t=e.momentdate,a=Object(l.b)();return Object(Ae.jsxs)("caption",{className:"bg-primary text-center",children:[Object(Ae.jsxs)("div",{className:"float-left ml-2",children:[Object(Ae.jsxs)("div",{className:"btn-group",role:"group",children:[Object(Ae.jsx)("button",{className:"btn btn-secondary border-right",onClick:function(){a(Ke(Fe()(t.clone().subtract(1,"months").startOf("month"))))},children:Object(Ae.jsx)("i",{className:"fa fa-chevron-left"})}),Object(Ae.jsx)("button",{className:"btn btn-secondary border-left",onClick:function(){a(Ke(Fe()(t.clone().add(1,"months").startOf("month"))))},children:Object(Ae.jsx)("i",{className:"fa fa-chevron-right"})})]}),Object(Ae.jsx)("button",{className:"btn btn-secondary mx-2",onClick:function(){a(Ke(Fe()()))},children:"Hoje"})]}),Object(Ae.jsx)("h4",{className:"text-uppercase font-weight-bold",children:t.format("MMMM Y")})]})},Xe=(a(113),function(e){var t=e.icon,a=e.href,n=void 0===a?null:a,c=e.onclick,i=void 0===c?null:c,r=e.title;return Object(Ae.jsx)("div",{className:"col col-auto p-0 d-flex flex-column justify-content-center",children:Object(Ae.jsx)("a",{href:n,onClick:i,target:"_blank",rel:"noreferrer noopener",className:"btn btn-secondary d-flex justify-content-center align-content-between p-1 mr-1 float-right",type:"button",title:r,children:Object(Ae.jsx)("i",{className:"fa "+t})})})}),Ze=function(e){var t=e.concluded,a=e.onclick;return Object(Ae.jsx)(Xe,{icon:t?"fa-check-square-o":"fa-square-o",onclick:a,title:"Marcar como finalizado"})},et=function(e){var t=e.address;return Object(Ae.jsx)(Xe,{href:"https://www.google.com/maps/place/"+t,icon:"fa-map",title:"Procurar endere\xe7o no GMaps"})},tt=function(e){var t=e.codigo_lote;return Object(Ae.jsx)(Xe,{href:"https://geoitajai.github.io/geo/consultazoneamento_openlayers.html#"+t,icon:"fa-file-text-o",title:"Consulta Pr\xe9via"})},at=function(e){var t=e.codigo_lote;return Object(Ae.jsx)(Xe,{href:"https://geoitajai.github.io/geo/consultaalvara.html#"+t,icon:"fa-id-card-o",title:"Grau de risco"})},nt=function(e){var t=e.notice_id,a=void 0===t?"0":t,n=e.survey_id,c=void 0===n?"0":n,i=e.report_id,r=void 0===i?"0":i,o=e.activity_id,s=void 0===o?"0":o,l=e.modalcall,d=void 0===l?"none":l,u=e.title,b=void 0===u?"":u,j=e.day,m=void 0===j?Fe()().format("YYYY-MM-DD"):j,p=e.children;return Object(Ae.jsx)("div",{className:"col p-1 text-truncate d-flex flex-column justify-content-center",role:"button",title:b,"data-bs-toggle":"modal","data-bs-target":"#ModalEvent","data-modalcall":d,"data-notice_id":a,"data-survey_id":c,"data-report_id":r,"data-activity_id":s,"data-day":m,children:p})},ct=function(e){var t=e.notice_event,a=e.day,n=qe(t);return t&&a&&n&&(t.date===a.format("YYYY-MM-DD")&&n.show_start||t.deadline_date===a.format("YYYY-MM-DD"))?Object(Ae.jsxs)("span",{className:"row no-gutters py-1 text-truncate d-inline-block"+(t.is_frozen?" text-white":" font-weight-bold"),children:["A. "+n.short_name+": ",null!==t.identification&&t.identification]}):null},it=function(e){var t=e.notice,a=e.day;return Object(Ae.jsxs)("div",{style:{backgroundColor:ze(t)?ze(t).css_color:"red"},className:"row no-gutters event user-select-none text-truncate"+(Ge(t)?" concluded":""),children:[Object(Ae.jsx)(nt,{notice_id:t.id,modalcall:"notice",title:t.imovel?t.imovel.name_string:"",day:a.format("YYYY-MM-DD"),children:t.notice_events.filter((function(e){return e.date===a.format("YYYY-MM-DD")})).map((function(e,t){return Object(Ae.jsx)(ct,{notice_event:e,day:a},e.id)}))}),Object(Ae.jsx)(tt,{codigo_lote:t.imovel?t.imovel.codigo_lote:""}),Object(Ae.jsx)(at,{codigo_lote:t.imovel?t.imovel.codigo_lote:""}),Object(Ae.jsx)(et,{address:t.imovel?t.imovel.logradouro+","+t.imovel.numero+"-"+t.imovel.bairro+"-itaja\xed":""})]})},rt=function(e){var t=e.notice,a=e.day,n=Object(l.b)(),i=Object(l.c)((function(e){return e.auth.user})),r=Object(c.useState)(!1),o=Object(Pe.a)(r,2),s=o[0],d=o[1];Object(c.useEffect)((function(){d(void 0!==i&&void 0!==t?i.id===t.owner:void 0!==i)}),[i,t]);return t.notice_events.filter((function(e){return e.deadline_date===a.format("YYYY-MM-DD")})).map((function(e){var c=qe(e);return c&&c.show_deadline&&!e.is_frozen?e.deadline_date===a.format("YYYY-MM-DD")&&Object(Ae.jsxs)("div",{style:{backgroundColor:qe(e)?qe(e).css_color:"blue"},className:"row no-gutters event user-select-none text-truncate"+(e.concluded?" concluded":""),children:[Object(Ae.jsx)(nt,{notice_id:t.id,modalcall:"notice",title:t.imovel?t.imovel.name_string:"",day:a.format("YYYY-MM-DD"),children:Object(Ae.jsx)(ct,{notice_event:e,day:a})}),Object(Ae.jsx)(Ze,{concluded:e.concluded,onclick:s?function(){return function(e){e.concluded=!e.concluded,n(F.update(t))}(e)}:function(){}}),Object(Ae.jsx)(tt,{codigo_lote:t.imovel?t.imovel.codigo_lote:""}),Object(Ae.jsx)(at,{codigo_lote:t.imovel?t.imovel.codigo_lote:""}),Object(Ae.jsx)(et,{address:t.imovel?t.imovel.logradouro+","+t.imovel.numero+"-"+t.imovel.bairro+"-itaja\xed":""})]},e.id):null}))},ot=function(e){var t=e.survey,a=He(t);return t&&a?Object(Ae.jsxs)("span",{className:"row no-gutters py-1 text-truncate d-inline-block font-weight-bold",children:["V. "+a.short_name+": ",null!==t.identification&&t.identification]}):null},st=function(e){var t=e.survey,a=e.day,n=He(t),i=Object(l.b)(),r=Object(l.c)((function(e){return e.auth.user})),o=Object(c.useState)(!1),s=Object(Pe.a)(o,2),d=s[0],u=s[1];Object(c.useEffect)((function(){u(void 0!==r&&void 0!==t?r.id===t.owner:void 0!==r)}),[r,t]);return Object(Ae.jsxs)("div",{style:{backgroundColor:n?n.css_color:"green"},className:"row no-gutters event user-select-none text-truncate "+(t.concluded?" concluded":""),children:[Object(Ae.jsx)(nt,{survey_id:t.id,modalcall:"survey",title:t.imovel?t.imovel.name_string:"",day:a.format("YYYY-MM-DD"),children:Object(Ae.jsx)(ot,{survey:t})}),Object(Ae.jsx)(Ze,{concluded:t.concluded,onclick:d?function(){return t.concluded=!t.concluded,void i($.update(t))}:function(){}}),Object(Ae.jsx)(tt,{codigo_lote:t.imovel?t.imovel.codigo_lote:""}),Object(Ae.jsx)(at,{codigo_lote:t.imovel?t.imovel.codigo_lote:""}),Object(Ae.jsx)(et,{address:t.imovel?t.imovel.logradouro+","+t.imovel.numero+"-"+t.imovel.bairro+"-itaja\xed":""})]})},lt=function(e){var t=e.survey,a=e.day;return Object(Ae.jsx)(st,{survey:t,day:a})},dt=function(e){var t=e.report,a=Je(t);return t&&a?Object(Ae.jsxs)("span",{className:"row no-gutters py-1 text-truncate d-inline-block font-weight-bold",children:["R. "+a.short_name+": ",null!==t.identification&&t.identification]}):null},ut=function(e){var t=e.report,a=e.day,n=Je(t),i=Object(l.b)(),r=Object(l.c)((function(e){return e.auth.user})),o=Object(c.useState)(!1),s=Object(Pe.a)(o,2),d=s[0],u=s[1];Object(c.useEffect)((function(){u(void 0!==r&&void 0!==t?r.id===t.owner:void 0!==r)}),[r,t]);return Object(Ae.jsxs)("div",{style:{backgroundColor:n?n.css_color:"yellow"},className:"row no-gutters event user-select-none text-truncate "+(t.concluded?" concluded":""),children:[Object(Ae.jsx)(nt,{report_id:t.id,modalcall:"report",title:t.imovel?t.imovel.name_string:"",day:a.format("YYYY-MM-DD"),children:Object(Ae.jsx)(dt,{report:t})}),Object(Ae.jsx)(Ze,{concluded:t.concluded,onclick:d?function(){return t.concluded=!t.concluded,void i(ee.update(t))}:function(){}}),Object(Ae.jsx)(tt,{codigo_lote:t.imovel?t.imovel.codigo_lote:""}),Object(Ae.jsx)(at,{codigo_lote:t.imovel?t.imovel.codigo_lote:""}),Object(Ae.jsx)(et,{address:t.imovel?t.imovel.logradouro+","+t.imovel.numero+"-"+t.imovel.bairro+"-itaja\xed":""})]})},bt=function(e){var t=e.report,a=e.day;return Object(Ae.jsx)(ut,{report:t,day:a})},jt=function(e){var t=e.day,a=e.momentdate,n=Object(l.c)((function(e){return e.user.users.current})),i=Object(l.c)((function(e){return e.notice.notices.notices.filter((function(e){return e.owner===n.id})).filter((a=t.format("YYYY-MM-DD"),function(e){for(var t=0;t<e.notice_events.length;t++)if(e.notice_events[t].date===a)return!0;return!1}));var a})),r=Object(l.c)((function(e){return e.notice.notices.notices.filter((function(e){return e.owner===n.id})).filter((a=t.format("YYYY-MM-DD"),function(e){for(var t=0;t<e.notice_events.length;t++)if(e.notice_events[t].deadline_date===a)return!0;return!1}));var a})),o=Object(l.c)((function(e){return e.survey.surveys.surveys.filter((function(e){return e.owner===n.id})).filter((a=t.format("YYYY-MM-DD"),function(e){return e.date===a}));var a})),s=Object(l.c)((function(e){return e.report.reports.reports.filter((function(e){return e.owner===n.id})).filter((a=t.format("YYYY-MM-DD"),function(e){return e.date===a}));var a})),d=Object(l.c)((function(e){return e.activity.activitys.activitys.filter((function(e){return e.owner===n.id})).find((a=t.format("YYYY-MM-DD"),function(e){return e.date===a}));var a})),u=Object(l.c)((function(e){return e.auth.user})),b=Object(c.useState)(!1),j=Object(Pe.a)(b,2),m=j[0],p=j[1];return Object(c.useEffect)((function(){p(void 0!==u&&void 0!==d?u.id===d.owner:void 0!==u)}),[u,d]),a.isSame(t,"month")?Object(Ae.jsxs)("td",{id:t.format("YYYY-MM-DD"),className:t.isSame(Fe()(),"day")?"bg-dark":"",children:[Object(Ae.jsx)("div",{className:"text-right pb-1",children:Object(Ae.jsx)("button",{className:"btn btn-circle"+(d?" btn-primary":" btn-secondary"),"data-bs-toggle":"modal","data-bs-target":"#ModalEvent","data-modalcall":m?void 0!==d?"activity_all":"none":"activity","data-notice_id":"0","data-survey_id":"0","data-report_id":"0","data-activity_id":void 0!==d?d.id:"0","data-day":t.format("YYYY-MM-DD"),disabled:void 0!==d||u.id===n.id?"":"disabled",children:t.format("DD").toString()})}),i.map((function(e){return Object(Ae.jsx)(it,{notice:e,day:t},e.id)})),r.map((function(e){return Object(Ae.jsx)(rt,{notice:e,day:t},e.id)})),o.map((function(e){return Object(Ae.jsx)(lt,{survey:e,day:t},e.id)})),s.map((function(e){return Object(Ae.jsx)(bt,{report:e,day:t},e.id)}))]}):Object(Ae.jsx)("td",{id:t.format("YYYY-MM-DD"),className:"opacity-4",children:Object(Ae.jsx)("div",{className:"text-right pb-1",children:Object(Ae.jsx)("button",{className:"btn btn-circle btn-secondary disabled",children:t.format("DD").toString()})})})},mt=function(e){var t=e.momentdate,a=Object(c.useState)([]),n=Object(Pe.a)(a,2),i=n[0],r=n[1],o=Object(l.b)();return Object(c.useEffect)((function(){Fe.a.locale("pt-br"),o(je.read()),o(q.read()),o(B.read()),o(Q.read()),o(ae.read()),o(H.read());var e={start_date:t.clone().startOf("month").startOf("week").format("YYYY-MM-DD"),end_date:t.clone().endOf("month").endOf("week").format("YYYY-MM-DD")};o(F.read(e)),o($.read(e)),o(ee.read(e)),o(ie.read(e)),r(function(e){for(var t=[],a=e.clone().startOf("month").startOf("week"),n=e.clone().endOf("month").endOf("week"),c=a.clone().subtract(1,"day");c.isBefore(n,"day");)t.push(Array(7).fill(0).map((function(){return c.add(1,"day").clone()})));return t}(t))}),[o,t]),Object(Ae.jsx)("section",{children:Object(Ae.jsxs)("table",{id:"calendar",className:"table table-light table-bordered",children:[Object(Ae.jsx)(Qe,{momentdate:t}),Object(Ae.jsx)("thead",{className:"thead-dark",children:Object(Ae.jsx)("tr",{className:"text-center text-uppercase",children:Fe.a.weekdays().map((function(e,t){return Object(Ae.jsx)("th",{className:"weekdays ",children:e},"week"+t)}))})}),Object(Ae.jsx)("tbody",{children:i.map((function(e,a){return Object(Ae.jsx)("tr",{children:e.map((function(e){return Object(Ae.jsx)(jt,{day:e,momentdate:t,children:e.format("D").toString()},e.format("YYYY-MM-DD"))}))},"week"+a)}))})]})})},pt=a(5),vt=a(58),ft=a(33),Ot=function(e){return e?void 0:"Campo obrigat\xf3rio"},ht=function(e){var t=e.name;return Object(Ae.jsx)(pt.a,{name:t,subscription:{error:!0,touched:!0},children:function(e){var t=e.meta,a=t.error,n=t.touched;return a&&n?Object(Ae.jsx)("div",{className:"invalid-feedback d-block",children:a.toString()}):null}})},xt=function(e){var t=e.isHidden,a=void 0!==t&&t,n=Object(Se.a)(e,["isHidden"]),c="form-control form-control-sm";void 0!==n.className&&(c+=" "+n.className,delete n.className);var i="form-group mb-0";void 0!==n.classNameDiv&&(i+=" "+n.classNameDiv,delete n.classNameDiv);var r="id_"+n.name;return void 0!==n.id&&(r=n.id,delete n.id),Object(Ae.jsxs)("div",{className:a?"d-none":i,children:[n.label&&Object(Ae.jsx)("label",{htmlFor:r,className:"mb-0",children:n.label}),Object(Ae.jsx)(pt.a,Object(s.a)(Object(s.a)({component:"input",type:"text"},n),{},{className:c,id:r,name:n.name})),Object(Ae.jsx)(ht,{name:n.name})]})},yt=function(e){var t=e.isHidden,a=void 0!==t&&t,n=Object(Se.a)(e,["isHidden"]),c="custom-control-input";void 0!==n.className&&(c+=" "+n.className,delete n.className);var i="custom-control custom-checkbox";void 0!==n.classNameDiv&&(i+=" "+n.classNameDiv,delete n.classNameDiv);var r="id_"+n.name;return void 0!==n.id&&(r=n.id,delete n.id),Object(Ae.jsxs)("div",{className:a?"d-none":i,title:n.tooltip,children:[Object(Ae.jsx)(pt.a,Object(s.a)(Object(s.a)({component:"input",type:"checkbox"},n),{},{id:r,name:n.name,className:c})),n.label&&Object(Ae.jsx)("label",{className:"custom-control-label",htmlFor:r,children:n.label}),Object(Ae.jsx)(ht,{name:n.name})]})},_t=function(e){var t=e.isHidden,a=void 0!==t&&t,n=Object(Se.a)(e,["isHidden"]),c="form-control form-control-sm";void 0!==n.className&&(c+=" "+n.className);var i="form-group mb-0";void 0!==n.classNameDiv&&(i+=" "+n.classNameDiv,delete n.classNameDiv);var r="id_"+n.name;return void 0!==n.id&&(r=n.id,delete n.id),Object(Ae.jsxs)("div",{className:a?"d-none":i,children:[n.label&&Object(Ae.jsx)("label",{htmlFor:r,className:"mb-0",children:n.label}),Object(Ae.jsx)(pt.a,Object(s.a)(Object(s.a)({component:"select"},n),{},{className:c,id:r,name:n.name})),Object(Ae.jsx)(ht,{name:n.name})]})},gt=function(e){var t=e.isDisabled,a=void 0!==t&&t,n=Object(Se.a)(e,["isDisabled"]);return a?Object(Ae.jsx)("fieldset",{disabled:!0,children:n.children}):Object(Ae.jsx)("fieldset",{children:n.children})},Nt=function(e){var t=e.name,a=Object(Se.a)(e,["name"]),n=Object(c.useState)(a.label),i=Object(Pe.a)(n,2),r=i[0],o=i[1];return Object(Ae.jsxs)("div",{className:"custom-file",children:[Object(Ae.jsx)(pt.a,{name:t,children:function(e){var t=e.input,n=(t.value,t.onChange),c=Object(Se.a)(t,["value","onChange"]);return Object(Ae.jsx)("input",Object(s.a)(Object(s.a)(Object(s.a)({},c),{},{type:"file",onChange:function(e){var t=e.target;n(t.files[0]),void 0!==t.files[0]?o(t.files[0].name):o(a.label)}},a),{},{className:"custom-file-input form-control form-control-sm"}))}}),Object(Ae.jsx)("label",{className:"custom-file-label col-form-label-sm",htmlFor:a.id,children:r}),Object(Ae.jsx)(ht,{name:a.name})]})},wt=function(e){var t=e.isDisabled,a=void 0!==t&&t,n=e.canDelete,c=void 0!==n&&n,i=e.canCopy,r=void 0!==i&&i,o=e.onDelete,s=e.form;return Object(Ae.jsxs)("div",{className:"modal-footer",children:[c&&Object(Ae.jsx)("button",{type:"button",className:"mr-auto btn btn-danger font-weight-bold",onClick:o,disabled:a,children:"Deletar"}),s&&Object(Ae.jsx)("button",{type:"button",className:"btn btn-secondary font-weight-bold",onClick:function(){s.reset()},title:"Recarregar informa\xe7\xf5es iniciais",disabled:a,children:Object(Ae.jsx)("i",{className:"fa fa-refresh"})}),Object(Ae.jsx)("button",{type:"button",className:"btn btn-secondary font-weight-bold","data-bs-dismiss":"modal",children:"Fechar"}),Object(Ae.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold",disabled:a,children:"Salvar"}),r&&Object(Ae.jsx)(yt,{name:"criarnovo",label:"Criar novo",tooltip:"Salva como um novo evento",disabled:a})]})},Et=(a(114),a(10)),Dt=a(24),St=a(59),At=a.n(St),Tt=function(e){var t=e.name,a=e.name_string,n=e.label,i=e.form,r=e.className,o=e.showResult,d=void 0===o||o,u=Object(Se.a)(e,["name","name_string","label","form","className","showResult"]),b=Object(l.b)(),j=Object(l.c)((function(e){return e.imovel.imoveis.imoveis})),m=Object(c.useState)(),p=Object(Pe.a)(m,2),v=p[0],f=p[1],O=Object(c.useState)(!1),h=Object(Pe.a)(O,2),x=h[0],y=h[1],_=Object(c.useState)(!1),g=Object(Pe.a)(_,2),N=g[0],w=g[1],E=Object(c.useState)(""),A=Object(Pe.a)(E,2),T=A[0],M=A[1],C=Object(c.useState)(),Y=Object(Pe.a)(C,2),k=Y[0],R=Y[1];Object(c.useEffect)((function(){f(i.getFieldState(t).value),i.getFieldState(a).pristine&&y(!1)}),[i,t,a]);var L=Object(c.useCallback)(At()((function(e){if(i.getFieldState(t).value){var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=/^[\d.]+$/g,n="",c="",i="",r="",o="",s="";if(/^[\d.]+-(.+)$/g.test(e)){var l=e.indexOf("-");o=e.slice(0,l).trim(),r=e.slice(l+1).trim()}else a.test(e)?o=e:r=e;if(o&&(o=o.replace(/\D/g,""),s=Object(Et.a)("999.999.99.9999.9999.999",o)),r){var d=r.lastIndexOf("-");d>0&&(n=r.slice(d+1).trim(),r=r.slice(0,d).trim());var u=r.indexOf(",");if(u>0){var b=(i=r.slice(u+1)).indexOf(",");b>0&&(c=i.slice(b+1).trim(),i=i.slice(0,b)),i=i.includes("s/n")?i.trim():i.replace(/[nN]|[\xba\xb0]/g,"").trim(),r=r.slice(0,u).trim()}}return{id:t,bairro:n,complemento:c,number:i,street:r,codigo:o,inscricao_imobiliaria:s}}(e,i.getFieldState(t).value.id);b(se.read(a))}}),500),[]),I=function(e){e&&void 0!==i.getFieldState(a).value&&i.getFieldState(a).value.length>3?y(!0):y(!1)},U=function(e){I(!1),w(!1),j&&(i.mutators.setValue(t,j.find((function(t){return t.id.toString()===e.target.dataset.imovel_id}))),i.mutators.setValue(t+"_id",e.target.dataset.imovel_id))};return void 0!==r?r+=" form-control form-control-sm":r="form-control form-control-sm",Object(Ae.jsxs)("div",{className:"form-group mb-0",children:[n&&Object(Ae.jsxs)("label",{htmlFor:"id_"+t,className:"mb-0",children:[n," ",Object(Ae.jsx)("i",{className:"fa fa-question fa-sm","aria-hidden":"true",title:'Digite o codigo do imovel, insc. imobili\xe1ria, ou endere\xe7o \r ex.: \r endere\xe7o: "logradouro,numero,complemento-bairro" \r codigo do im\xf3vel: "123456" \r insc. imobili\xe1ria (com ou sem pontos): "123.456..." \r Ap\xf3s terminar de digitar espere por meio segundo para a pesquisar ser realizada'})]}),Object(Ae.jsxs)("div",{className:"autocomplete",children:[Object(Ae.jsx)(pt.a,Object(s.a)(Object(s.a)({component:"input",type:"text"},u),{},{className:r,id:"id_"+a,name:a,autoComplete:"off"})),Object(Ae.jsx)(Dt.b,{name:"imovel.name_string",children:function(e,a){!function(e,a){e.length>3?(L(e),I(!0)):I(!1),0===e.length&&i.mutators.setValue(t,null)}(e)}}),Object(Ae.jsx)(Dt.c,{name:"imovel.name_string",children:function(){I(!0)}}),Object(Ae.jsx)(Dt.a,{name:"imovel.name_string",children:function(){I(!1)}}),Object(Ae.jsx)(pt.a,{component:"input",type:"hidden",id:"id_"+t,name:t}),Object(Ae.jsx)("div",{className:x?"autocomplete-items":"d-none",children:j&&j.map((function(e,t){return Object(Ae.jsx)("div",{role:"button","data-imovel_id":e.id,"data-imovel_value":e.name_string,onMouseDown:U,className:v&&e.name_string===v.name_string?"autocomplete-active":"",children:e.name_string},t)}))})]}),Object(Ae.jsx)(ht,{name:a}),d&&v&&Object(Ae.jsxs)("ul",{className:"list-group p-1 m-2 autocomplete-resultlist border",children:[Object(Ae.jsxs)("li",{className:"list-group-item p-0 border-0",children:["razao_social: ",v.razao_social]}),Object(Ae.jsxs)("li",{className:"list-group-item p-0 border-0",children:["C\xf3digo do im\xf3vel: ",v.codigo]}),Object(Ae.jsxs)("li",{className:"list-group-item p-0 border-0",children:["Insc. Imobili\xe1ria: ",v.inscricao_imobiliaria]}),Object(Ae.jsxs)("li",{className:"list-group-item p-0 border-0",children:["Contribuinte: ",v.numero_contribuinte]}),Object(Ae.jsxs)("li",{className:"list-group-item p-0 border-0",children:["Endere\xe7o: ",v.logradouro+", "+v.numero,v.complemento?", "+v.complemento:""," - ","Bairro: ",v.bairro," - ","CEP:"," ",v.cep&&Object(Et.a)("99.999-999",v.cep),Object(Ae.jsxs)("div",{className:"row no-gutters d-inline-flex float-right",children:[Object(Ae.jsx)(Xe,{icon:N?"fa-envelope-open-o":"fa-envelope-o",onclick:function(){M(v.logradouro),R(),w(!N),i.mutators.setValue("newCEP",Object(Et.a)("99.999-999",v.cep))},title:"Autalizar CEP"}),Object(Ae.jsx)(tt,{codigo_lote:v.codigo_lote}),Object(Ae.jsx)(at,{codigo_lote:v.codigo_lote}),Object(Ae.jsx)(et,{address:v.logradouro+","+v.numero+"-"+v.bairro+"-itaja\xed"})]})]}),Object(Ae.jsx)("li",{className:"list-group-item p-0 border-0",children:Object(Ae.jsx)("div",{className:N?"collapse show p-1":"collapse",children:Object(Ae.jsxs)("div",{className:"card card-body d-block p-1",children:[Object(Ae.jsx)("input",{type:"text",className:"form-control form-control-sm",maxLength:"255",value:T,placeholder:"Logradouro sem n\xfamero e sem bairro",onChange:function(e){M(e.target.value)}}),Object(Ae.jsxs)("button",{type:"button",className:"btn btn-outline-primary btn-sm my-1",onClick:function(){!function(){var e={crossDomain:!0,headers:{"Content-Type":"application/json"},params:{uf:"SC",localidade:"Itajai",logradouro:T}};D.a.get("https://api.auditoriaitajai.com.br/api/buscacep/",e).then((function(e){e.data.total>0?R(e.data.dados):b(S({INFO:e.data.mensagem}))})).catch((function(e){console.log(e)}))}()},children:["Buscar CEP ",Object(Ae.jsx)("i",{className:"fa fa-search"})]}),Object(Ae.jsx)("div",{className:"list-group border-0",children:k&&k.map((function(e,t){return Object(Ae.jsx)("button",{type:"button",className:"list-group-item list-group-item-action p-1 ",onClick:function(){i.mutators.setValue("newCEP",Object(Et.a)("99.999-999",e.cep))},children:Object(Ae.jsxs)("span",{children:[e.logradouroDNEC," - ",e.bairro,": ",e.cep]})},t)}))}),Object(Ae.jsxs)("div",{className:"form-inline",children:[Object(Ae.jsx)(xt,{name:"newCEP",label:"Novo CEP:",maxLength:"255",className:"m-1",classNameDiv:"mx-1",parse:Object(Et.a)("99.999-999")}),Object(Ae.jsx)("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:function(){i.getFieldState("newCEP")&&(i.mutators.setValue(t+".cep",Object(Et.a)("99.999-999",i.getFieldState("newCEP").value)),b(se.update(i.getFieldState(t).value))),w(!1)},children:"Salvar CEP"})]})]})})})]})]})},Mt=function(e){var t=e.fields,a=e.name,n=e.index,c=e.isOwner;return Object(Ae.jsxs)("div",{className:"row px-4 py-1 form-inline border-bottom",children:[Object(Ae.jsx)(xt,{name:a+".identification",label:"N\xba:",size:"10",maxLength:"255",placeholder:"identifica\xe7\xe3o",className:"mx-1"}),Object(Ae.jsx)(xt,{name:a+".date",label:"Data:",type:"date",className:"mx-1"}),c&&Object(Ae.jsx)("button",{type:"button",className:"btn btn-outline-danger border-0 btn-sm",onClick:function(){return t.remove(n)},children:Object(Ae.jsx)("i",{className:"fa fa-trash fa-sm"})})]},a)},Ct=function(e){var t=e.form,a=e.fields,n=e.name,i=e.index,r=e.isOwner;return Object(Ae.jsxs)(c.Fragment,{children:[Object(Ae.jsxs)("div",{className:"row px-4 py-1 form-inline",children:[Object(Ae.jsx)(xt,{name:n+".identification",label:"N\xba:",size:"10",maxLength:"255",placeholder:"identifica\xe7\xe3o",className:"mx-1"}),Object(Ae.jsx)(xt,{name:n+".extension",label:"Extens\xe3o (dias):",type:"number",min:"0",max:"999",placeholder:"0",className:"mx-1",classNameDiv:"m-1"}),r&&Object(Ae.jsx)("button",{type:"button",className:"btn btn-outline-danger border-0 btn-sm",onClick:function(){return a.remove(i)},children:Object(Ae.jsx)("i",{className:"fa fa-trash fa-sm"})})]}),Object(Ae.jsxs)("div",{className:"row px-4 py-1 form-inline border-bottom",children:[Object(Ae.jsx)(xt,{name:n+".start_date",label:"Inicio:",type:"date",className:"mx-1",validate:Ot}),Object(Ae.jsx)(xt,{name:n+".end_date",label:"Fim:",type:"date",className:"mx-1"}),Object(Ae.jsx)(Xe,{icon:"fa-times-circle-o",onclick:function(){t.mutators.setValue(n+".end_date",null)},title:"Limpar data"})]})]},n)},Yt=function(e){var t=e.form,a=e.fields,n=e.name,i=e.index,r=e.push,o=e.isOwner,s=qe(a.value[i]);return Object(Ae.jsxs)("div",{children:[Object(Ae.jsx)("hr",{className:"m-1"}),Object(Ae.jsxs)("div",{className:"row text-center",children:[Object(Ae.jsxs)("span",{className:"col text-uppercase w-100 font-weight-bold text-nowrap inline-block",children:[s.name,$e(s)&&a.value[i].id&&"0"!==a.value[i].id.toString()&&Object(Ae.jsx)("button",{type:"button",className:"btn btn-outline-primary border-0 btn-sm mx-1 never-disabled","data-bs-toggle":"modal","data-bs-target":"#ModalNoticeNotification","data-modalcall":"notification","data-notice_event_id":a.value[i].id,"data-notice_type_id":s.id,children:Object(Ae.jsx)("i",{className:"fa fa-print"})})]}),o&&Object(Ae.jsx)("button",{type:"button",className:"btn btn-outline-danger border-0",onClick:function(){return a.remove(i)},children:Object(Ae.jsx)("i",{className:"fa fa-trash fa-lg"})})]}),void 0!==qe(a.value[i])&&Object(Ae.jsxs)("div",{className:"row",children:[Object(Ae.jsx)("div",{className:"d-flex flex-row",children:Object(Ae.jsxs)("div",{className:"form-inline",children:[Object(Ae.jsx)(xt,{name:n+"date",label:"Data:",type:"date",className:"mx-1",classNameDiv:"m-1",validate:Ot}),Object(Ae.jsx)(xt,{name:n+".identification",label:"N\xba:",type:"text",size:"15",maxLength:"255",placeholder:"identifica\xe7\xe3o",className:"mx-1",classNameDiv:"m-1"}),qe(a.value[i]).show_report_number&&Object(Ae.jsx)(xt,{name:n+"report_number",label:"RF:",type:"text",size:"10",maxLength:"255",className:"mx-1",classNameDiv:"m-1"}),qe(a.value[i]).show_concluded&&Object(Ae.jsx)(yt,{name:n+".concluded",label:"Conclu\xeddo",className:"mx-1",classNameDiv:"m-1"}),qe(a.value[i]).show_deadline&&Object(Ae.jsxs)("div",{className:"form-inline",children:[Object(Ae.jsx)(xt,{name:n+".deadline",label:"Prazo (dias):",type:"number",min:"0",max:"999",placeholder:"prazo",className:"mx-1",classNameDiv:"m-1",validate:Ot}),Object(Ae.jsx)(yt,{name:n+".deadline_working_days",label:"Apenas dias \xfateis",className:"mx-1",classNameDiv:"m-1"})]})]})}),qe(a.value[i]).show_fine&&Object(Ae.jsxs)(c.Fragment,{children:[Object(Ae.jsxs)("div",{className:"row text-left m-1",children:[Object(Ae.jsx)("span",{className:"col-lg w-100",children:"Multas:"}),Object(Ae.jsx)("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:function(){return r(n+".notice_fines",{date:Fe()().format("YYYY-MM-DD")})},children:"Adicionar multa"})]}),Object(Ae.jsx)("div",{className:"row pr-1 pb-1 w-100 justify-content-center",children:Object(Ae.jsx)(ft.a,{name:n+".notice_fines",children:function(e){var t=e.fields;return t.map((function(e,a){return Object(Ae.jsx)(Mt,{fields:t,name:e,index:a,isOwner:o},e)}))}})})]}),qe(a.value[i]).show_appeal&&Object(Ae.jsxs)(c.Fragment,{children:[Object(Ae.jsxs)("div",{className:"row text-left m-1",children:[Object(Ae.jsx)("span",{className:"col-lg w-100",children:"Recursos:"}),Object(Ae.jsx)("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:function(){return r(n+".notice_appeals",{start_date:Fe()().format("YYYY-MM-DD")})},children:"Adicionar recurso"})]}),Object(Ae.jsx)("div",{className:"row pr-1 pb-1 w-100 justify-content-center",children:Object(Ae.jsx)(ft.a,{name:n+".notice_appeals",children:function(e){var a=e.fields;return a.map((function(e,n){return Object(Ae.jsx)(Ct,{form:t,fields:a,name:e,index:n,isOwner:o},e)}))}})})]})]})]})},kt=function(e){return e&&e.length>0?void 0:"Required"},Rt=function(e){var t=e.notice,a=e.day,n=(e.isModalOpen,Object(l.b)()),i=Object(l.c)((function(e){return e.notice.notice_event_types.notice_event_types})),r=Object(l.c)((function(e){return e.user.users.users})),o=Object(l.c)((function(e){return e.auth.user})),d=Object(c.useState)(!1),u=Object(Pe.a)(d,2),b=u[0],j=u[1];Object(c.useEffect)((function(){j(void 0!==o&&void 0!==t?o.id===t.owner:void 0!==o)}),[o,t]);var m=function(){var e="Tem certeza que gostaria de deletar este Auto?";e+="\r\n",e+="Data: "+Fe()(t.date).format("DD/MM/YYYY");for(var a=function(a){e+="\r\n",e+="N\xba: "+t.notice_events[a].identification,e+=" ("+i.find((function(e){return e.id===t.notice_events[a].notice_event_type})).name+")"},c=0;c<t.notice_events.length;c++)a(c);window.confirm(e)&&(n(F.delete(t.id)),V.a.Modal.getInstance(document.getElementById("ModalEvent")).hide())};return Object(Ae.jsx)(pt.b,{initialValues:t,onSubmit:function(e){var a=e.criarnovo;delete e.criarnovo;var c=!1;void 0!==e.id&&(0===e.id||a?(n(F.create(e)),c=!0):function(e){var a,n=t.notice_events.filter((a=e.notice_events,function(e){for(var t=0;t<a.length;t++)if(e.id===a[t].id)return!1;return!0}));if(0===n.length)return!0;for(var c="Salvando este Auto voc\xea estar\xe1 removendo:",r=function(e){c+="\r\n",c+="N\xba: "+n[e].identification,c+=" ("+i.find((function(t){return t.id===n[e].notice_event_type})).name+")"},o=0;o<n.length;o++)r(o);return c+="\r\n",c+="Gostaria de continuar?",window.confirm(c)}(e)&&(n(F.update(e)),c=!0)),c&&V.a.Modal.getInstance(document.getElementById("ModalEvent")).hide()},mutators:Object(s.a)(Object(s.a)({},vt.a),{},{setValue:function(e,t,a){var n=Object(Pe.a)(e,2),c=n[0],i=n[1];(0,a.changeValue)(t,c,(function(){return i}))}}),render:function(e){var c=e.handleSubmit,o=e.form.mutators.push,s=e.form;return Object(Ae.jsxs)("form",{onSubmit:c,className:"needs-validation",noValidate:!0,children:[Object(Ae.jsx)("div",{className:"modal-body container",children:Object(Ae.jsxs)("div",{className:"container",children:[Object(Ae.jsx)(gt,{isDisabled:!0,children:Object(Ae.jsx)("div",{className:"row no-gutters form-inline",children:Object(Ae.jsxs)(_t,{name:"owner",label:"AFM:",validate:Ot,className:"mx-1",children:[Object(Ae.jsx)("option",{value:"",children:"---------"}),r.map((function(e,t){return Object(Ae.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name]},e.id)}))]})})}),Object(Ae.jsx)(Tt,{name:"imovel",name_string:"imovel.name_string",label:"Im\xf3vel:",form:s,disabled:!b}),s&&t&&0===t.id&&void 0!==s.getFieldState("imovel")&&s.getFieldState("imovel").value&&Object(Ae.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:function(){var e;n((e=s.getFieldState("imovel").value.id,function(t,a){var n=Object.assign({},{params:{imovel_id:e}},Y(a));D.a.get("https://api.auditoriaitajai.com.br/api/latestnotice/",n).then((function(e){t({type:N,payload:e.data}),null!==e.data.imovel_id?(V.a.Modal.getInstance(document.getElementById("ModalEvent")).hide(),setTimeout((function(){var t=document.createElement("button");t.type="button",t.setAttribute("role","button"),t.setAttribute("data-bs-toggle","modal"),t.setAttribute("data-bs-target","#ModalEvent"),t.setAttribute("data-modalcall","notice"),t.setAttribute("data-notice_id",e.data.id),t.setAttribute("data-survey_id","0"),t.setAttribute("data-activity_id","0"),document.body.appendChild(t),t.click(),t.parentNode.removeChild(t)}),500)):t(A("N\xe3o foi encontrado Autos passados neste im\xf3vel"))})).catch((function(e){t(A(e))}))}))},children:"Carregar Autos passados deste Im\xf3vel"}),Object(Ae.jsxs)(gt,{isDisabled:!b,children:[Object(Ae.jsx)(xt,{name:"document",label:"CPF/CNPJ:",maxLength:"255",parse:function(e){if(!e)return e;var t=e.replace(/[^\d]/g,"");return e.length>14?Object(Et.a)("99.999.999/9999-99",t):Object(Et.a)("999.999.999-99",t)}}),Object(Ae.jsx)(xt,{name:"address",label:"Endere\xe7o:",maxLength:"255"}),Object(Ae.jsx)(xt,{name:"description",label:"Descri\xe7\xe3o:",component:"textarea",cols:"40",rows:"3"}),Object(Ae.jsxs)("div",{className:"row",children:[Object(Ae.jsx)("div",{className:"col-auto",children:"Adicionar:"}),Object(Ae.jsx)("div",{className:"col text-left",children:i.map((function(e,t){return Object(Ae.jsx)("button",{type:"button",className:"btn btn-outline-primary btn-sm m-1",onClick:function(){return o("notice_events",{date:a.format("YYYY-MM-DD"),deadline:e.default_deadline,deadline_working_days:e.default_deadline_working_days,concluded:e.default_concluded,notice_event_type:e.id})},children:e.name},t)}))})]})]}),Object(Ae.jsx)("div",{className:t&&0===t.id?"row d-none":"row",children:Object(Ae.jsxs)("div",{className:"col text-left",children:[Object(Ae.jsx)("button",{type:"button",className:"btn btn-primary btn-sm m-1",onClick:function(){n(function(e){return function(t,a){var n=Object.assign({},{responseType:"blob",params:{notice_id:e.id}},Y(a));try{D.a.get("https://api.auditoriaitajai.com.br/api/noticereportdocx/",n).then((function(e){var t=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download="relat\xf3rio de Fiscaliza\xe7\xe3o.docx",n.click(),URL.revokeObjectURL(a)})).catch((function(e){t(A(e))}))}catch(c){console.log(c)}}}(t))},disabled:!t||!t.imovel,children:"Gerar Relat\xf3rio de Fiscaliza\xe7\xe3o"}),Object(Ae.jsx)("button",{type:"button",className:"btn btn-primary btn-sm m-1",onClick:function(){var e;n((e=We(t),function(t,a){var n=Object.assign({},{responseType:"blob",params:{vistoria_administrativa_id:e.id}},Y(a));try{D.a.get("https://api.auditoriaitajai.com.br/api/varequestdocx/",n).then((function(e){var t=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download="Pedido de VA.docx",n.click(),URL.revokeObjectURL(a)})).catch((function(e){t(A(e))}))}catch(c){console.log(c)}}))},disabled:!t||!t.imovel||!We(t),children:"Gerar Pedido de VA"})]})}),Object(Ae.jsx)(gt,{isDisabled:!b,children:Object(Ae.jsx)("div",{className:"container",children:Object(Ae.jsx)(ft.a,{name:"notice_events",validate:kt,children:function(e){var t=e.fields,a=e.meta.touched;return Object(Ae.jsxs)("div",{children:[t.map((function(e,a){return Object(Ae.jsx)(Yt,{form:s,fields:t,name:e,index:a,push:o,isOwner:b},e)})),0===t.length&&a?Object(Ae.jsx)("div",{className:"invalid-feedback d-block",children:"\xc9 necessario adicionar ao menos um Auto ou VA"}):null]})}})})})]})}),Object(Ae.jsx)(wt,{isDisabled:!b,canDelete:void 0!==t&&0!==t.id,canCopy:void 0!==t&&0!==t.id,onDelete:m,form:s})]})}})},Lt=function(e){var t=e.survey,a=(e.day,e.isModalOpen,Object(l.b)()),n=Object(l.c)((function(e){return e.survey.survey_event_types.survey_event_types})),i=Object(l.c)((function(e){return e.user.users.users})),r=Object(l.c)((function(e){return e.auth.user})),o=Object(c.useState)(!1),s=Object(Pe.a)(o,2),d=s[0],u=s[1];Object(c.useEffect)((function(){u(void 0!==r&&void 0!==t?r.id===t.owner:void 0!==r)}),[r,t]);var b=function(){var e="Tem certeza que gostaria de deletar esta Vistoria de ";e+=n.find((function(e){return e.id===t.survey_event_type})).name+"?",e+="\r\n",e+="N\xba: "+t.identification,e+="\r\n",e+="Data: "+Fe()(t.date).format("DD/MM/YYYY"),window.confirm(e)&&(a($.delete(t.id)),V.a.Modal.getInstance(document.getElementById("ModalEvent")).hide())};return Object(Ae.jsx)(pt.b,{initialValues:t,onSubmit:function(e){var t=e.criarnovo;delete e.criarnovo;var n=!1;void 0!==e.id&&(0===e.id||t?(a($.create(e)),n=!0):(a($.update(e)),n=!0)),n&&V.a.Modal.getInstance(document.getElementById("ModalEvent")).hide()},mutators:{setValue:function(e,t,a){var n=Object(Pe.a)(e,2),c=n[0],i=n[1];(0,a.changeValue)(t,c,(function(){return i}))}},render:function(e){var a=e.handleSubmit,c=e.form;return Object(Ae.jsxs)("form",{onSubmit:a,className:"needs-validation",noValidate:!0,children:[Object(Ae.jsx)("div",{className:"modal-body container",children:Object(Ae.jsxs)("div",{className:"container",children:[Object(Ae.jsxs)("div",{className:"form-inline",children:[Object(Ae.jsx)(gt,{isDisabled:!0,children:Object(Ae.jsxs)(_t,{name:"owner",label:"AFM:",validate:Ot,className:"m-1",classNameDiv:"mx-1",children:[Object(Ae.jsx)("option",{value:"",children:"---------"}),i.map((function(e,t){return Object(Ae.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name]},e.id)}))]})}),Object(Ae.jsx)(gt,{isDisabled:!d,children:Object(Ae.jsx)(xt,{name:"date",label:"Data:",type:"date",className:"m-1",classNameDiv:"mx-1",validate:Ot})})]}),Object(Ae.jsx)(Tt,{name:"imovel",name_string:"imovel.name_string",label:"Im\xf3vel:",form:c,disabled:!d}),Object(Ae.jsxs)(gt,{isDisabled:!d,children:[Object(Ae.jsx)(xt,{name:"document",label:"CPF/CNPJ:",maxLength:"255",parse:function(e){if(!e)return e;var t=e.replace(/[^\d]/g,"");return e.length>14?Object(Et.a)("99.999.999/9999-99",t):Object(Et.a)("999.999.999-99",t)}}),Object(Ae.jsx)(xt,{name:"address",label:"Endere\xe7o:",maxLength:"255"}),Object(Ae.jsx)(xt,{name:"description",label:"Descri\xe7\xe3o:",component:"textarea",cols:"40",rows:"3"}),Object(Ae.jsx)("div",{className:"d-flex flex-row",children:Object(Ae.jsxs)("div",{className:"form-inline",children:[Object(Ae.jsx)(xt,{name:"identification",label:"Identifica\xe7\xe3o:",maxLength:"255",className:"m-1",classNameDiv:"mx-1",validate:Ot}),Object(Ae.jsxs)(_t,{name:"survey_event_type",label:"Tipo:",className:"m-1",classNameDiv:"mx-1",validate:Ot,children:[Object(Ae.jsx)("option",{value:"",children:"---------"}),n.map((function(e,t){return Object(Ae.jsxs)("option",{value:e.id,children:[e.order," - ",e.name]},e.id)}))]}),Object(Ae.jsx)(yt,{name:"concluded",label:"Conclu\xeddo",className:"m-1",classNameDiv:"mx-1"})]})})]})]})}),Object(Ae.jsx)(wt,{isDisabled:!d,canDelete:void 0!==t&&0!==t.id,canCopy:void 0!==t&&0!==t.id,onDelete:b,form:c})]})}})},It=function(e){var t=e.report,a=(e.day,e.isModalOpen,Object(l.b)()),n=Object(l.c)((function(e){return e.report.report_event_types.report_event_types})),i=Object(l.c)((function(e){return e.user.users.users})),r=Object(l.c)((function(e){return e.auth.user})),o=Object(c.useState)(!1),s=Object(Pe.a)(o,2),d=s[0],u=s[1];Object(c.useEffect)((function(){u(void 0!==r&&void 0!==t?r.id===t.owner:void 0!==r)}),[r,t]);var b=function(){var e="Tem certeza que gostaria de deletar esta Vistoria de ";e+=n.find((function(e){return e.id===t.report_event_type})).name+"?",e+="\r\n",e+="N\xba: "+t.identification,e+="\r\n",e+="Data: "+Fe()(t.date).format("DD/MM/YYYY"),window.confirm(e)&&(a(ee.delete(t.id)),V.a.Modal.getInstance(document.getElementById("ModalEvent")).hide())};return Object(Ae.jsx)(pt.b,{initialValues:t,onSubmit:function(e){var t=e.criarnovo;delete e.criarnovo;var n=!1;void 0!==e.id&&(0===e.id||t?(a(ee.create(e)),n=!0):(a(ee.update(e)),n=!0)),n&&V.a.Modal.getInstance(document.getElementById("ModalEvent")).hide()},mutators:{setValue:function(e,t,a){var n=Object(Pe.a)(e,2),c=n[0],i=n[1];(0,a.changeValue)(t,c,(function(){return i}))}},render:function(e){var a=e.handleSubmit,c=e.form;return Object(Ae.jsxs)("form",{onSubmit:a,className:"needs-validation",noValidate:!0,children:[Object(Ae.jsx)("div",{className:"modal-body container",children:Object(Ae.jsxs)("div",{className:"container",children:[Object(Ae.jsxs)("div",{className:"form-inline",children:[Object(Ae.jsx)(gt,{isDisabled:!0,children:Object(Ae.jsxs)(_t,{name:"owner",label:"AFM:",validate:Ot,className:"m-1",classNameDiv:"mx-1",children:[Object(Ae.jsx)("option",{value:"",children:"---------"}),i.map((function(e,t){return Object(Ae.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name]},e.id)}))]})}),Object(Ae.jsx)(gt,{isDisabled:!d,children:Object(Ae.jsx)(xt,{name:"date",label:"Data:",type:"date",className:"m-1",classNameDiv:"mx-1",validate:Ot})})]}),Object(Ae.jsx)(Tt,{name:"imovel",name_string:"imovel.name_string",label:"Im\xf3vel:",form:c,disabled:!d}),Object(Ae.jsxs)(gt,{isDisabled:!d,children:[Object(Ae.jsx)(xt,{name:"document",label:"CPF/CNPJ:",maxLength:"255",parse:function(e){if(!e)return e;var t=e.replace(/[^\d]/g,"");return e.length>14?Object(Et.a)("99.999.999/9999-99",t):Object(Et.a)("999.999.999-99",t)}}),Object(Ae.jsx)(xt,{name:"address",label:"Endere\xe7o:",maxLength:"255"}),Object(Ae.jsx)(xt,{name:"description",label:"Descri\xe7\xe3o:",component:"textarea",cols:"40",rows:"3"}),Object(Ae.jsx)("div",{className:"d-flex flex-row",children:Object(Ae.jsxs)("div",{className:"form-inline",children:[Object(Ae.jsx)(xt,{name:"identification",label:"Identifica\xe7\xe3o:",maxLength:"255",className:"m-1",classNameDiv:"mx-1",validate:Ot}),Object(Ae.jsxs)(_t,{name:"report_event_type",label:"Tipo:",className:"m-1",classNameDiv:"mx-1",validate:Ot,children:[Object(Ae.jsx)("option",{value:"",children:"---------"}),n.map((function(e,t){return Object(Ae.jsxs)("option",{value:e.id,children:[e.order," - ",e.name]},e.id)}))]}),Object(Ae.jsx)(yt,{name:"concluded",label:"Conclu\xeddo",className:"m-1",classNameDiv:"mx-1"})]})})]})]})}),Object(Ae.jsx)(wt,{isDisabled:!d,canDelete:void 0!==t&&0!==t.id,canCopy:void 0!==t&&0!==t.id,onDelete:b,form:c})]})}})},Ut=function(e){var t=e.activity,a=(e.day,e.isModalOpen,Object(l.b)()),n=Object(l.c)((function(e){return e.activity.activitys.activitys})),i=Object(l.c)((function(e){return e.user.users.users})),r=Object(l.c)((function(e){return e.auth.user})),o=Object(c.useState)(!1),s=Object(Pe.a)(o,2),d=s[0],u=s[1];Object(c.useEffect)((function(){u(void 0!==r&&void 0!==t?r.id===t.owner:void 0!==r)}),[r,t]);var b=function(){var e="Tem certeza que gostaria de deletar esta Atividade?";e+="\r\n",e+="Data: "+Fe()(t.date).format("DD/MM/YYYY"),window.confirm(e)&&(a(ie.delete(t.id)),V.a.Modal.getInstance(document.getElementById("ModalEvent")).hide())};return Object(Ae.jsx)(pt.b,{initialValues:t,onSubmit:function(e){var t=e.criarnovo;delete e.criarnovo;var c=!1,i={ERROR:"Apenas \xe9 permitido um registro de atividade por data"};if(void 0!==e.id)if(0===e.id||t){if(n.filter((function(t){return t.date===e.date&&t.owner===e.owner})).length>0)return void a(S(i));a(ie.create(e)),c=!0}else{if(n.filter((function(t){return t.id!==e.id&&t.date===e.date&&t.owner===e.owner})).length>0)return void a(S(i));a(ie.update(e)),c=!0}c&&V.a.Modal.getInstance(document.getElementById("ModalEvent")).hide()},render:function(e){var a=e.handleSubmit,n=e.form;return Object(Ae.jsxs)("form",{onSubmit:a,className:"needs-validation",noValidate:!0,children:[Object(Ae.jsx)("div",{className:"modal-body container",children:Object(Ae.jsxs)("div",{className:"container",children:[Object(Ae.jsxs)("div",{className:"form-inline",children:[Object(Ae.jsx)(gt,{isDisabled:!0,children:Object(Ae.jsxs)(_t,{name:"owner",label:"AFM:",className:"m-1",classNameDiv:"mx-1",validate:Ot,children:[Object(Ae.jsx)("option",{value:"",children:"---------"}),i.map((function(e,t){return Object(Ae.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name]},e.id)}))]})}),Object(Ae.jsx)(gt,{isDisabled:!d,children:Object(Ae.jsx)(xt,{name:"date",label:"Data:",type:"date",className:"m-1",classNameDiv:"mx-1",validate:Ot})})]}),Object(Ae.jsx)(gt,{isDisabled:!d,children:Object(Ae.jsx)(xt,{name:"description",label:"Descri\xe7\xe3o:",component:"textarea",cols:"40",rows:"20",validate:Ot})})]})}),Object(Ae.jsx)(wt,{isDisabled:!d,canDelete:void 0!==t&&0!==t.id,canCopy:void 0!==t&&0!==t.id,onDelete:b,form:n})]})}})},Vt=function(e){var t=e.active,a=e.name;return Object(Ae.jsx)("a",{className:"nav-item nav-link font-weight-bold text-capitalize"+(t?"":" disabled"),id:"nav-"+a+"-tab","data-bs-toggle":"tab",href:"#nav-"+a,role:"tab","aria-controls":"nav-"+a,children:a})},Ft=function(e){var t=e.name,a=e.children;return Object(Ae.jsx)("div",{className:"tab-pane fade",id:"nav-"+t,role:"tabpanel","aria-labelledby":"nav-"+t+"-tab",children:a})};function Pt(){var e=Object(c.useState)(!1),t=Object(Pe.a)(e,2),a=t[0],n=t[1],i=Object(c.useState)(),r=Object(Pe.a)(i,2),o=r[0],s=r[1],l=Object(c.useState)(),d=Object(Pe.a)(l,2),u=d[0],b=d[1],j=Object(c.useState)(),m=Object(Pe.a)(j,2),p=m[0],v=m[1],f=Object(c.useState)(),O=Object(Pe.a)(f,2),h=O[0],x=O[1],y=Object(c.useState)({title:"Criar",noticetab:!0,surveytab:!0,reporttab:!0,activitytab:!0,alltabs:!0}),_=Object(Pe.a)(y,2),g=_[0],N=_[1],w=Object(c.useState)(),E=Object(Pe.a)(w,2),D=E[0],S=E[1],A=function(e){var t=e.relatedTarget.dataset.modalcall;if("notice"!==t&&"survey"!==t&&"report"!==t&&"activity_all"!==t&&"none"!==t)return!1;var a,c,i,r,o=ge.getState().user.users.current,l=ge.getState().notice.notices.notices,d=ge.getState().survey.surveys.surveys,u=ge.getState().report.reports.reports,j=ge.getState().activity.activitys.activitys;S(Fe()(e.relatedTarget.dataset.day)),"0"!==e.relatedTarget.dataset.notice_id&&(a=l.find((function(t){return t.id.toString()===e.relatedTarget.dataset.notice_id}))),s(void 0!==a?a:{id:0,imovel:null,imovel_id:0,document:null,date:e.relatedTarget.dataset.day,address:null,description:null,owner:o.id,notice_events:[],css_name:null,resethack:[]}),"0"!==e.relatedTarget.dataset.survey_id&&(c=d.find((function(t){return t.id.toString()===e.relatedTarget.dataset.survey_id}))),b(void 0!==c?c:{id:0,imovel:null,imovel_id:0,document:null,identification:null,date:e.relatedTarget.dataset.day,survey_event_type:null,address:null,description:null,concluded:!1,owner:o.id,resethack:[]}),"0"!==e.relatedTarget.dataset.report_id&&(i=u.find((function(t){return t.id.toString()===e.relatedTarget.dataset.report_id}))),v(void 0!==i?i:{id:0,imovel:null,imovel_id:0,document:null,identification:null,date:e.relatedTarget.dataset.day,report_event_type:null,address:null,description:null,concluded:!1,owner:o.id,resethack:[]}),"0"!==e.relatedTarget.dataset.activity_id&&(r=j.find((function(t){return t.id.toString()===e.relatedTarget.dataset.activity_id}))),x(void 0!==r?r:{id:0,date:e.relatedTarget.dataset.day,owner:o.id,description:null,resethack:[]}),"notice"===e.relatedTarget.dataset.modalcall&&N({title:"Editar Auto",noticetab:!0,surveytab:!1,reporttab:!1,activitytab:!1,alltabs:!1}),"survey"===e.relatedTarget.dataset.modalcall&&N({title:"Editar Vistoria",noticetab:!1,surveytab:!0,reporttab:!1,activitytab:!1,alltabs:!1}),"report"===e.relatedTarget.dataset.modalcall&&N({title:"Editar Relat\xf3rio",noticetab:!1,surveytab:!1,reporttab:!0,activitytab:!1,alltabs:!1}),"activity"===e.relatedTarget.dataset.modalcall&&N({title:"Editar Atividade",noticetab:!1,surveytab:!1,reporttab:!1,activitytab:!0,alltabs:!1}),"activity_all"===e.relatedTarget.dataset.modalcall&&N({title:"Editar Atividade",noticetab:!1,surveytab:!1,reporttab:!1,activitytab:!0,alltabs:!0}),"none"===e.relatedTarget.dataset.modalcall&&N({title:"Criar",noticetab:!0,surveytab:!0,reporttab:!0,activitytab:!0,alltabs:!0}),n(!0)},T=function(e){n(!1)};return Object(c.useEffect)((function(){return!g.noticetab||g.surveytab||g.reporttab||g.activitytab?g.noticetab||!g.surveytab||g.reporttab||g.activitytab?g.noticetab||g.surveytab||!g.reporttab||g.activitytab?g.noticetab||g.surveytab||g.reporttab||!g.activitytab?document.getElementById("nav-auto-tab").click():document.getElementById("nav-atividade-tab").click():document.getElementById("nav-relat\xf3rio-tab").click():document.getElementById("nav-vistoria-tab").click():document.getElementById("nav-auto-tab").click(),window.addEventListener("show.bs.modal",A),window.addEventListener("hidden.bs.modal",T),function(){window.removeEventListener("show.bs.modal",A),window.removeEventListener("hidden.bs.modal",T)}}),[g]),Object(Ae.jsx)("div",{id:"ModalEvent",className:"modal fade",tabIndex:"-1",role:"dialog","aria-hidden":"true","data-bs-backdrop":"static",children:Object(Ae.jsx)("div",{className:"modal-dialog modal-lg",role:"document",children:Object(Ae.jsxs)("div",{className:"modal-content",children:[Object(Ae.jsxs)("div",{className:"modal-header",children:[Object(Ae.jsx)("h5",{className:"modal-title font-weight-bold",id:"id_modal-header",children:g.title}),Object(Ae.jsx)("button",{type:"button",className:"close","data-bs-dismiss":"modal","aria-label":"Close",children:Object(Ae.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(Ae.jsx)("nav",{children:Object(Ae.jsxs)("div",{className:"nav nav-tabs justify-content-center",id:"nav-tab",role:"tablist",children:[Object(Ae.jsx)(Vt,{active:g.noticetab||g.alltabs,name:"auto"}),Object(Ae.jsx)(Vt,{active:g.surveytab||g.alltabs,name:"vistoria"}),Object(Ae.jsx)(Vt,{active:g.reporttab||g.alltabs,name:"relat\xf3rio"}),Object(Ae.jsx)(Vt,{active:g.activitytab||g.alltabs,name:"atividade"})]})}),Object(Ae.jsxs)("div",{className:"tab-content",id:"nav-tabContent",children:[Object(Ae.jsx)(Ft,{name:"auto",children:Object(Ae.jsx)(Rt,{notice:o,day:D,isModalOpen:a})}),Object(Ae.jsx)(Ft,{name:"vistoria",children:Object(Ae.jsx)(Lt,{survey:u,day:D,isModalOpen:a})}),Object(Ae.jsx)(Ft,{name:"relat\xf3rio",children:Object(Ae.jsx)(It,{report:p,day:D,isModalOpen:a})}),Object(Ae.jsx)(Ft,{name:"atividade",children:Object(Ae.jsx)(Ut,{activity:h,day:D,isModalOpen:a})})]})]})})})}var Bt=function(e){var t=e.momentdate,a=e.dateType,n=Object(l.b)(),c=Object(l.c)((function(e){return e.user.users.users})),i=Object(l.c)((function(e){return e.user.users.current})),r=Object(l.c)((function(e){return e.date}));return Object(Ae.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light p-2",children:Object(Ae.jsxs)("div",{className:"form-inline",children:[Object(Ae.jsx)("button",{className:"btn btn-sm btn-outline-primary mx-1 d-none d-lg-inline-block",type:"button","data-bs-toggle":"modal","data-bs-target":"#ModalEvent","data-modalcall":"none","data-day":r?r.format("YYYY-MM-DD"):"",children:"Novo Evento"}),Object(Ae.jsx)(pt.b,{initialValues:{momentdate:t,currentUser:i},onSubmit:function(e){},render:function(e){var i=e.handleSubmit;return Object(Ae.jsxs)("form",{onSubmit:i,className:"needs-validation d-flex",noValidate:!0,children:[Object(Ae.jsxs)("div",{className:"col form-inline",children:[Object(Ae.jsx)(_t,{name:"currentUser.id",label:"AFM:",className:"mx-1",children:c.map((function(e,t){return Object(Ae.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name]},e.id)}))}),Object(Ae.jsx)(Dt.b,{name:"currentUser.id",children:function(e,t){var a=c.find((function(t){return t.id.toString()===e}));void 0!==a&&n(function(e){return{type:g,payload:e}}(a))}})]}),t&&a&&Object(Ae.jsxs)("div",{className:"col form-inline",children:[Object(Ae.jsx)(xt,{name:"momentdate",label:"data:",type:a,className:"mx-1",validate:Ot,parse:"month"===a?function(e){return e&&Fe()(e+"-01")}:function(e){return e&&Fe()(e)},format:"month"===a?function(e){return e?e.format("YYYY-MM"):""}:function(e){return e?e.format("YYYY-MM-DD"):""}}),Object(Ae.jsx)(Dt.b,{name:"momentdate",children:function(e,t){n(Ke(e))}})]})]})}})]})})};function zt(){var e=Object(l.b)(),t=Object(c.useState)(""),a=Object(Pe.a)(t,2),n=a[0],i=a[1],r=Object(c.useState)(),o=Object(Pe.a)(r,2),s=o[0],d=o[1],u=Object(c.useState)(),b=Object(Pe.a)(u,2),j=b[0],m=b[1],p=Object(l.c)((function(e){return e.notice.notice_event_type_files.notice_event_type_files.filter((function(e){return!!s&&e.notice_event_type===s.id}))})),v=function(e){if("notification"!==e.relatedTarget.dataset.modalcall)return!1;var t,a=ge.getState().notice.notice_event_types.notice_event_types;"0"!==e.relatedTarget.dataset.notice_event_id&&m(function(e){if(e){for(var t=ge.getState().notice.notices.notices,a=0;a<t.length;a++){var n=void 0;if(t[a].notice_events&&(n=t[a].notice_events.find((function(t){return t.id.toString()===e.toString()}))),n)return n}return null}}(e.relatedTarget.dataset.notice_event_id)),"0"!==e.relatedTarget.dataset.notice_type_id&&(t=a.find((function(t){return t.id.toString()===e.relatedTarget.dataset.notice_type_id.toString()})),d(t)),i("")};return Object(c.useEffect)((function(){return window.addEventListener("show.bs.modal",v),function(){return window.removeEventListener("show.bs.modal",v)}}),[]),Object(Ae.jsx)("div",{id:"ModalNoticeNotification",className:"modal fade",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(Ae.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(Ae.jsxs)("div",{className:"modal-content",children:[Object(Ae.jsxs)("div",{className:"modal-header p-2",children:[Object(Ae.jsxs)("h6",{className:"modal-title font-weight-bold",children:["Notifica\xe7\xe3o de ",s&&s.name," -"," ",j&&j.identification]}),Object(Ae.jsx)("button",{type:"button",className:"close","data-bs-dismiss":"modal","aria-label":"Close",children:Object(Ae.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(Ae.jsx)("div",{className:"container p-3",children:Object(Ae.jsxs)("form",{children:[Object(Ae.jsxs)("div",{className:"form-group form-inline",children:[Object(Ae.jsx)("label",{htmlFor:"noticeReference",children:"Auto descumprido:"}),Object(Ae.jsx)("input",{type:"text",className:"form-control form-control-sm mx-1",id:"noticeReference","aria-describedby":"noticeReferenceHelp",placeholder:"Identifica\xe7\xe3o",value:n,onChange:function(e){i(e.target.value)}}),Object(Ae.jsx)("small",{id:"noticeReferenceHelp",className:"form-text text-muted",children:"Informe o numero do Auto descumprido para adicionar ao texto"})]}),Object(Ae.jsx)("span",{children:"Escolha o tipo de notifica\xe7\xe3o para impress\xe3o:"}),s&&p.length>0?p.sort((function(e,t){return e.order-t.order})).map((function(t,a){return Object(Ae.jsx)("div",{className:"m-1",children:Object(Ae.jsx)("button",{className:"btn btn-secondary btn-sm d-block w-100",type:"button",onClick:function(){return e(function(e,t,a){return function(n,c){if(!t||!e)return!1;var i={notice_event_id:t.id,notice_event_type_file_id:e.id};a&&(i={notice_event_id:t.id,notice_event_type_file_id:e.id,notice_event_reference:a});var r=qe(t),o=Object.assign({},{responseType:"blob",params:i},Y(c)),s="Auto "+r.name.toUpperCase()+"_"+t.identification+"_"+e.name+".docx";s=s.replace(/[/\\?%*:|"<>,;=]/g,"-");try{D.a.get("https://api.auditoriaitajai.com.br/api/downloadnotification/",o).then((function(e){var t=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download=s,n.click(),URL.revokeObjectURL(a)})).catch((function(e){n(A(e))}))}catch(l){console.log(l)}}}(t,j,n))},children:t.name})},t.id)})):Object(Ae.jsx)("p",{children:"N\xe3o h\xe1 notifica\xe7\xf5es para este tipo de Auto, por favor solicite a um administrador o cadastro."})]})})]})})})}function qt(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.date})),a=Object(l.c)((function(e){return e.user.users.current})),n=Object(De.h)();return Object(c.useEffect)((function(){var t=Fe()();""!==n.hash&&(t=Fe()(Be(n.hash.substring(1)))),e(Ke(t))}),[e,n.hash]),t?Object(Ae.jsx)("div",{children:Object(Ae.jsx)("div",{className:"container-fluid",children:Object(Ae.jsxs)("div",{className:"row no-gutters px-3",children:[Object(Ae.jsx)(Pt,{}),Object(Ae.jsx)(zt,{}),Object(Ae.jsxs)("div",{className:"col col-12",children:[Object(Ae.jsx)(Bt,{momentdate:t,dateType:"month"}),Object(Ae.jsx)(mt,{momentdate:t,user:a})]})]})})}):null}a(115);var Gt=function(e){var t=e.momentdate,a=Object(l.b)();return Object(c.useEffect)((function(){Fe.a.locale("pt-br"),a(je.read()),a(q.read()),a(B.read()),a(Q.read()),a(ae.read());var e={start_date:t.clone().format("YYYY-MM-DD"),end_date:t.clone().format("YYYY-MM-DD")};a(F.read(e)),a($.read(e)),a(ee.read(e)),a(ie.read(e))}),[a,t]),Object(Ae.jsx)("table",{id:"calendartarefa",className:"table table-light table-bordered ",children:Object(Ae.jsx)("tbody",{children:Object(Ae.jsx)("tr",{children:Object(Ae.jsx)(jt,{day:t,momentdate:t,children:t.format("D").toString()})})})})};function Ht(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.date})),a=Object(l.c)((function(e){return e.user.users.current})),n=Object(De.h)();return Object(c.useEffect)((function(){var t=Fe()();""!==n.hash&&(t=Fe()(Be(n.hash.substring(1)))),e(Ke(t))}),[e,n.hash]),t?Object(Ae.jsx)("div",{className:"container-fluid",children:Object(Ae.jsxs)("div",{className:"row no-gutters px-3 justify-content-md-center",children:[Object(Ae.jsx)(Pt,{}),Object(Ae.jsxs)("div",{className:"col col-12 col-md-9 col-lg-6",children:[Object(Ae.jsx)(Bt,{momentdate:t,dateType:"date"}),Object(Ae.jsx)(Gt,{momentdate:t,user:a})]})]})}):null}var Jt=function(e){var t=e.authUser,a=Object(l.b)();return Object(Ae.jsx)(pt.b,{validate:function(e){var t={};return e.new_password!==e.new_password_check&&(t.new_password="As novas senhas devem ser a iguais"),t},onSubmit:function(e){var n;e.new_password===e.new_password_check&&a((n=Object(s.a)({user:t},e),function(e,t){D.a.put("https://api.auditoriaitajai.com.br/api/changepassword/",Object(s.a)({},n),Y(t)).then((function(t){e(S({CRUDupdate:"Senha alterada com sucesso!"})),e(C())})).catch((function(t){return e(A(t))}))}))},render:function(e){var t=e.handleSubmit,a=e.submitError;return Object(Ae.jsxs)("form",{onSubmit:t,className:"needs-validation",noValidate:!0,children:[a&&Object(Ae.jsx)("div",{className:"error",children:a}),Object(Ae.jsx)("div",{className:"form-inline p-1",children:Object(Ae.jsx)(xt,{name:"old_password",label:"Senha atual: ",type:"password",className:"mx-1",validate:Ot})}),Object(Ae.jsx)("div",{className:"form-inline p-1",children:Object(Ae.jsx)(xt,{name:"new_password",label:"Nova Senha: ",type:"password",className:"mx-1",validate:Ot})}),Object(Ae.jsx)("div",{className:"form-inline p-1",children:Object(Ae.jsx)(xt,{name:"new_password_check",label:"Nova Senha: ",type:"password",className:"mx-1",validate:Ot})}),Object(Ae.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold mt-2",children:"Alterar Senha"})]})}})},Wt=function(e){var t=e.authUser,a=Object(l.b)();return Object(Ae.jsx)(pt.b,{initialValues:t,onSubmit:function(e){a(pe.update(e))},render:function(e){var t=e.handleSubmit;return Object(Ae.jsxs)("form",{onSubmit:t,className:"needs-validation",noValidate:!0,children:[Object(Ae.jsx)(xt,{name:"username",label:"Username:",validate:Ot}),Object(Ae.jsx)(xt,{name:"first_name",label:"Nome:",validate:Ot}),Object(Ae.jsx)(xt,{name:"last_name",label:"Sobrenome:"}),Object(Ae.jsx)(xt,{name:"email",label:"email:"}),Object(Ae.jsx)(xt,{name:"profile.matricula",label:"Matr\xedcula:"}),Object(Ae.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold mt-2",children:"Salvar"})]})}})},$t=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.auth.user})),a=Object(l.c)((function(e){return e.user.users.users}));return Object(Ae.jsx)(pt.b,{initialValues:{user_id:t.id,month:Fe()().format("YYYY-MM"),include_analytic_data:!0},onSubmit:function(t){e(function(e){return function(t,a){var n=Object.assign({},{responseType:"blob",params:e},Y(a)),c=ge.getState().user.users.users.find((function(t){return t.id.toString()===e.user_id.toString()})),i="";c&&(i=c.first_name,c.last_name&&(i+=" "+c.last_name),i+="-");var r="relat\xf3rio_mensal-"+i+e.month+".pdf";try{D.a.get("https://api.auditoriaitajai.com.br/api/reportpdf/",n).then((function(e){var t=new Blob([e.data],{type:"application/pdf"}),a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download=r,n.click(),URL.revokeObjectURL(a)})).catch((function(e){t(A(e))}))}catch(o){console.log(o)}}}(t))},render:function(e){var t=e.handleSubmit;return Object(Ae.jsxs)("form",{onSubmit:t,className:"needs-validation",noValidate:!0,children:[Object(Ae.jsx)("h5",{children:"Baixar relat\xf3rio individual"}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(_t,{name:"user_id",id:"id_user_id_report",label:"AFM:",className:"m-1",children:a.map((function(e,t){return Object(Ae.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name]},e.id)}))})}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(xt,{name:"month",id:"id_month_report",label:"Refer\xeancia: ",type:"month",className:"m-1",validate:Ot})}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(yt,{name:"include_analytic_data",label:"Incluir relat\xf3rio anal\xedtico",className:"m-1"})}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold m-2",children:"Criar relat\xf3rio"})})]})}})},Kt=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.auth.user})),a=Object(l.c)((function(e){return e.user.users.users}));return Object(Ae.jsx)(pt.b,{initialValues:{user_id:t.id,month:Fe()().format("YYYY-MM")},onSubmit:function(t){e(function(e){return function(t,a){var n=Object.assign({},{responseType:"blob",params:e},Y(a)),c=ge.getState().user.users.users.find((function(t){return t.id.toString()===e.user_id.toString()})),i="";c&&(i=c.first_name,c.last_name&&(i+=" "+c.last_name),i+="-");var r="planilha_mensal-"+i+e.month+".csv";try{D.a.get("https://api.auditoriaitajai.com.br/api/sheetcsv/",n).then((function(e){var t=new Blob([e.data],{type:"text/csv"}),a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download=r,n.click(),URL.revokeObjectURL(a)})).catch((function(e){t(A(e))}))}catch(o){console.log(o)}}}(t))},render:function(e){var t=e.handleSubmit;return Object(Ae.jsxs)("form",{onSubmit:t,className:"needs-validation",noValidate:!0,children:[Object(Ae.jsx)("h5",{children:"Baixar planilha em formato csv"}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(_t,{name:"user_id",id:"id_user_id_sheet",label:"AFM:",className:"m-1",children:a.map((function(e,t){return Object(Ae.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name]},e.id)}))})}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(xt,{name:"month",id:"id_month_sheet",label:"Refer\xeancia: ",type:"month",className:"m-1",validate:Ot})}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold m-2",children:"Baixar planilha"})})]})}})},Qt=function(){var e=Object(l.b)();return Object(Ae.jsx)(pt.b,{initialValues:{month:Fe()().format("YYYY-MM")},onSubmit:function(t){e(function(e){return function(t,a){var n=Object.assign({},{responseType:"blob",params:e},Y(a)),c="relat\xf3rio mensal de desempenho-"+e.month+".pdf";try{D.a.get("https://api.auditoriaitajai.com.br/api/reportpdfall/",n).then((function(e){var t=new Blob([e.data],{type:"application/pdf"}),a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download=c,n.click(),URL.revokeObjectURL(a)})).catch((function(e){t(A(e))}))}catch(i){console.log(i)}}}(t))},render:function(e){var t=e.handleSubmit;return Object(Ae.jsxs)("form",{onSubmit:t,className:"needs-validation",noValidate:!0,children:[Object(Ae.jsx)("h5",{children:"Baixar relat\xf3rio geral da Auditoria"}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(xt,{name:"month",id:"id_month_report_all",label:"Refer\xeancia: ",type:"month",className:"m-1",validate:Ot})}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold m-2",children:"Criar relat\xf3rio"})})]})}})},Xt=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.auth.user}));Object(c.useEffect)((function(){e(je.read()),e(pe.read())}),[e,t]);return Object(Ae.jsx)("div",{className:"modal-body container",children:Object(Ae.jsxs)("div",{className:"row",children:[Object(Ae.jsxs)("div",{className:"col-12 offset-lg-1 col-lg-4",children:[Object(Ae.jsxs)("h5",{children:["Bem vindo, ",t?t.first_name?t.first_name:t.username:"","!"]}),Object(Ae.jsxs)("h6",{children:[" (\xfaltimo login: ",t?t.last_login:"",")"]}),Object(Ae.jsx)("div",{children:Object(Ae.jsx)(Wt,{authUser:t})}),Object(Ae.jsx)("div",{className:"mt-2",children:Object(Ae.jsx)(Jt,{authUser:t})}),Object(Ae.jsx)("div",{className:"row m-1 p-2",children:Object(Ae.jsx)("button",{type:"button",className:"btn btn-primary font-weight-bold mt-2",onClick:function(){window.confirm("Tem certeza que gostaria sair de todas as Inst\xe2ncias?\r\nVoc\xea ter\xe1 que entrar novamente em todos os dispositivos.")&&e(C())},children:"Sair de todos os locais"})})]}),Object(Ae.jsxs)("div",{className:"col-12 offset-lg-1 col-lg-4 mt-2 mt-lg-0",children:[Object(Ae.jsx)("div",{className:"row m-1 p-2 border",children:Object(Ae.jsx)(Qt,{})}),Object(Ae.jsx)("div",{className:"row m-1 p-2 border",children:Object(Ae.jsx)($t,{})}),Object(Ae.jsx)("div",{className:"row m-1 p-2 border",children:Object(Ae.jsx)(Kt,{})})]})]})})},Zt=(a(116),function(e){var t=e.notice_event,a=qe(t);return t&&a?Object(Ae.jsxs)("span",{className:"row no-gutters py-1 text-truncate d-inline-block font-weight-bold",children:["A. "+a.short_name+": ",null!==t.identification&&t.identification," ("+t.deadline_date+")"]}):null}),ea=function(e){var t=e.notice,a=e.concluded,n=e.notice_event_type,i=Object(l.b)(),r=Object(l.c)((function(e){return e.auth.user})),o=Object(c.useState)(!1),s=Object(Pe.a)(o,2),d=s[0],u=s[1];Object(c.useEffect)((function(){u(void 0!==r&&void 0!==t?r.id===t.owner:void 0!==r)}),[r,t]);return t.notice_events.filter((function(e){return""!==n&&("0"===n||e.notice_event_type.toString()===n)})).filter((function(e){var t,n=qe(e);return t=!n||n.show_concluded,"0"===a?!!t&&!e.concluded:"1"!==a||(!t||e.concluded)})).map((function(e){var a=qe(e);return Object(Ae.jsxs)("div",{style:{backgroundColor:a?a.css_color:"blue"},className:"row no-gutters event user-select-none text-truncate"+(e.concluded?" concluded":""),children:[Object(Ae.jsx)(nt,{notice_id:t.id,modalcall:"notice",title:t.imovel?t.imovel.name_string:"",day:Fe()().format("YYYY-MM-DD"),children:Object(Ae.jsx)(Zt,{notice_event:e})}),a&&a.show_concluded&&Object(Ae.jsx)(Ze,{concluded:e.concluded,onclick:d?function(){return function(e){e.concluded=!e.concluded,i(F.update(t))}(e)}:function(){}}),Object(Ae.jsx)(tt,{codigo_lote:t.imovel?t.imovel.codigo_lote:""}),Object(Ae.jsx)(et,{address:t.imovel?t.imovel.logradouro+","+t.imovel.numero+"-"+t.imovel.bairro+"-itaja\xed":""})]},e.id)}))},ta=function(e){var t=e.title,a=e.concluded,n=e.notice_event_type,c=Object(l.c)((function(e){return e.user.users.current})),i=Object(l.c)((function(e){return e.notice.notices.notices.filter((function(e){return e.owner===c.id}))}));return Object(Ae.jsxs)("div",{className:"border p-2 m-1",children:[Object(Ae.jsx)("span",{children:Object(Ae.jsx)("strong",{children:t||""})}),i&&i.map((function(e){return Object(Ae.jsx)(ea,{notice:e,concluded:a,notice_event_type:n},e.id)}))]})},aa=function(e){var t=e.title,a=e.concluded,n=e.report_event_type,c=Object(l.c)((function(e){return e.user.users.current})),i=Object(l.c)((function(e){return e.report.reports.reports.filter((function(e){return e.owner===c.id}))}));return Object(Ae.jsxs)("div",{className:"border p-2 m-1",children:[Object(Ae.jsx)("span",{children:Object(Ae.jsx)("strong",{children:t||""})}),i&&i.filter((function(e){return""!==n&&("0"===n||e.report_event_type.toString()===n)})).filter((function(e){return"0"===a?!e.concluded:"1"!==a||e.concluded})).map((function(e){return Object(Ae.jsx)(bt,{report:e,day:Fe()(e.date)},e.id)}))]})},na=function(e){var t=e.title,a=e.concluded,n=e.survey_event_type,c=Object(l.c)((function(e){return e.user.users.current})),i=Object(l.c)((function(e){return e.survey.surveys.surveys.filter((function(e){return e.owner===c.id}))}));return Object(Ae.jsxs)("div",{className:"border p-2 m-1",children:[Object(Ae.jsx)("span",{children:Object(Ae.jsx)("strong",{children:t||""})}),i&&i.filter((function(e){return""!==n&&("0"===n||e.survey_event_type.toString()===n)})).filter((function(e){return"0"===a?!e.concluded:"1"!==a||e.concluded})).map((function(e){return Object(Ae.jsx)(lt,{survey:e,day:Fe()(e.date)},e.id)}))]})};function ca(){var e=Object(l.b)();return Object(c.useEffect)((function(){e(je.read()),e(q.read()),e(B.read()),e(Q.read()),e(ae.read());var t={concluded:"0"};e(F.read(t)),e($.read(t)),e(ee.read(t))}),[e]),Object(Ae.jsx)("div",{className:"container-fluid",children:Object(Ae.jsxs)("div",{className:"row no-gutters justify-content-md-center",children:[Object(Ae.jsx)(Pt,{}),Object(Ae.jsxs)("div",{className:"col col-12 col-lg-9",children:[Object(Ae.jsx)(Bt,{}),Object(Ae.jsxs)("div",{className:"row row-cols-1 row-cols-lg-3",children:[Object(Ae.jsx)("div",{className:"col",children:Object(Ae.jsx)(ta,{title:"Autos a concluir:",concluded:"0",notice_event_type:"0"})}),Object(Ae.jsx)("div",{className:"col",children:Object(Ae.jsx)(aa,{title:"Vistorias a concluir:",concluded:"0",survey_event_type:"0"})}),Object(Ae.jsx)("div",{className:"col",children:Object(Ae.jsx)(na,{title:"Relat\xf3rios a concluir:",concluded:"0",report_event_type:"0"})})]})]})]})})}a(117);function ia(){var e=Object(l.b)();return Object(c.useEffect)((function(){e(je.read()),e(q.read()),e(B.read()),e(Q.read()),e(ae.read());var t={incompatible:!0};e(F.read(t)),e($.read(t)),e(ee.read(t))}),[e]),Object(Ae.jsx)("div",{className:"container-fluid",children:Object(Ae.jsxs)("div",{className:"row no-gutters justify-content-md-center",children:[Object(Ae.jsx)(Pt,{}),Object(Ae.jsxs)("div",{className:"col col-12 col-lg-9",children:[Object(Ae.jsx)(Bt,{}),Object(Ae.jsxs)("div",{className:"row row-cols-1 row-cols-lg-3",children:[Object(Ae.jsx)("div",{className:"col",children:Object(Ae.jsx)(ta,{title:"Autos sem im\xf3vel:",concluded:"",notice_event_type:"0"})}),Object(Ae.jsx)("div",{className:"col",children:Object(Ae.jsx)(aa,{title:"Vistorias sem im\xf3vel:",concluded:"",survey_event_type:"0"})}),Object(Ae.jsx)("div",{className:"col",children:Object(Ae.jsx)(na,{title:"Relat\xf3rios sem im\xf3vel:",concluded:"",report_event_type:"0"})})]})]})]})})}a(53);var ra=function(e){var t=e.state,a=e.setstate,n=Object(l.b)(),c=Object(l.c)((function(e){return e.report.report_event_types.report_event_types})),i=Object(l.c)((function(e){return e.survey.survey_event_types.survey_event_types})),r=Object(l.c)((function(e){return e.notice.notice_event_types.notice_event_types}));return Object(Ae.jsx)(pt.b,{initialValues:t,mutators:{setValue:function(e,t,a){var n=Object(Pe.a)(e,2),c=n[0],i=n[1];(0,a.changeValue)(t,c,(function(){return i}))}},onSubmit:function(e){""!==e.notice_event_type&&n(F.read(e)),""!==e.survey_event_type&&n($.read(e)),""!==e.report_event_type&&n(ee.read(e)),a(e)},render:function(e){var t=e.handleSubmit,a=e.form;return Object(Ae.jsx)("form",{onSubmit:t,className:"needs-validation",noValidate:!0,children:Object(Ae.jsxs)("div",{className:"modal-body container",children:[Object(Ae.jsxs)("div",{className:"container",children:[Object(Ae.jsxs)("div",{className:"form-inline",children:[Object(Ae.jsx)(xt,{name:"start_date",label:"Desde:",type:"date",className:"ml-1",classNameDiv:"mx-1"}),Object(Ae.jsx)(Xe,{icon:"fa-times-circle-o",onclick:function(){a.mutators.setValue("start_date","")},title:"Limpar data"}),Object(Ae.jsx)(xt,{name:"end_date",label:"At\xe9:",type:"date",className:"ml-1",classNameDiv:"mx-1"}),Object(Ae.jsx)(Xe,{icon:"fa-times-circle-o",onclick:function(){a.mutators.setValue("end_date","")},title:"Limpar data"})]}),Object(Ae.jsx)(Tt,{name:"imovel",name_string:"imovel.name_string",label:"Im\xf3vel:",form:a}),Object(Ae.jsxs)("div",{className:"form-inline",children:[Object(Ae.jsx)(xt,{name:"identification",label:"Identifica\xe7\xe3o/N\xba:",maxLength:"255",className:"m-1",classNameDiv:"mx-1"}),Object(Ae.jsx)(xt,{name:"document",label:"CPF/CNPJ:",maxLength:"255",parse:function(e){if(!e)return e;var t=e.replace(/[^\d]/g,"");return e.length>14?Object(Et.a)("99.999.999/9999-99",t):Object(Et.a)("999.999.999-99",t)},className:"m-1",classNameDiv:"mx-1"}),Object(Ae.jsxs)(_t,{name:"concluded",label:"Conclu\xeddo:",className:"m-1",classNameDiv:"mx-1",children:[Object(Ae.jsx)("option",{value:"",children:"Nenhum"}),Object(Ae.jsx)("option",{value:"0",children:"N\xe3o conclu\xeddo"}),Object(Ae.jsx)("option",{value:"1",children:"Conclu\xeddo"})]})]}),Object(Ae.jsxs)("div",{className:"form-inline",children:[Object(Ae.jsxs)(_t,{name:"notice_event_type",label:"Tipo de Auto:",className:"m-1",classNameDiv:"mx-1",children:[Object(Ae.jsx)("option",{value:"",children:"Nenhum"}),Object(Ae.jsx)("option",{value:"0",children:"Todos"}),r.map((function(e,t){return Object(Ae.jsxs)("option",{value:e.id,children:[e.order," - ",e.name]},e.id)}))]}),Object(Ae.jsxs)(_t,{name:"survey_event_type",label:"Tipo de Vistoria:",className:"m-1",classNameDiv:"mx-1",children:[Object(Ae.jsx)("option",{value:"",children:"Nenhum"}),Object(Ae.jsx)("option",{value:"0",children:"Todos"}),i.map((function(e,t){return Object(Ae.jsxs)("option",{value:e.id,children:[e.order," - ",e.name]},e.id)}))]}),Object(Ae.jsxs)(_t,{name:"report_event_type",label:"Tipo de Relat\xf3rio:",className:"m-1",classNameDiv:"mx-1",children:[Object(Ae.jsx)("option",{value:"",children:"Nenhum"}),Object(Ae.jsx)("option",{value:"0",children:"Todos"}),c.map((function(e,t){return Object(Ae.jsxs)("option",{value:e.id,children:[e.order," - ",e.name]},e.id)}))]})]})]}),Object(Ae.jsxs)("div",{className:"row justify-content-center",children:[Object(Ae.jsx)("button",{type:"button",className:"btn btn-secondary mr-2",onClick:function(){a.reset()},title:"Recarregar",children:Object(Ae.jsx)("i",{className:"fa fa-refresh"})}),Object(Ae.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Buscar"})]})]})})}})};function oa(){var e=Object(l.b)(),t=Object(De.h)(),a=Object(c.useState)({start_date:Fe()().startOf("month").format("YYYY-MM-DD"),end_date:Fe()().endOf("month").format("YYYY-MM-DD"),imovel:"",imovel_id:"",identification:"",concluded:"",notice_event_type:"0",survey_event_type:"0",report_event_type:"0"}),n=Object(Pe.a)(a,2),i=n[0],r=n[1];return Object(c.useEffect)((function(){e(je.read()),e(q.read()),e(Q.read()),e(ae.read())}),[e,t]),Object(Ae.jsxs)("div",{className:"container",children:[Object(Ae.jsx)(Pt,{}),Object(Ae.jsx)(Bt,{}),Object(Ae.jsx)(ra,{state:i,setstate:r}),Object(Ae.jsx)("h5",{className:"p-2",children:"Resultado:"}),Object(Ae.jsx)("div",{className:"container-fluid",children:Object(Ae.jsxs)("div",{className:"row no-gutters row-cols-1 row-cols-lg-3 justify-content-md-center",children:[Object(Ae.jsx)("div",{className:"col col-12 col-lg-4",children:Object(Ae.jsx)(ta,{title:"Autos:",concluded:i.concluded,notice_event_type:i.notice_event_type})}),Object(Ae.jsx)("div",{className:"col col-12 col-lg-4",children:Object(Ae.jsx)(aa,{title:"Vistorias:",concluded:i.concluded,survey_event_type:i.survey_event_type})}),Object(Ae.jsx)("div",{className:"col col-12 col-lg-4",children:Object(Ae.jsx)(na,{title:"Relat\xf3rios:",concluded:i.concluded,report_event_type:i.report_event_type})})]})})]})}var sa=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.user.userprofiles.users}));Object(c.useEffect)((function(){e(pe.read())}),[e]);return Object(Ae.jsxs)("table",{className:"table table-sm table-light table-striped table-bordered my-2",children:[Object(Ae.jsxs)("caption",{children:["Lista de usu\xe1rios"," ",Object(Ae.jsx)("button",{"data-bs-toggle":"modal","data-bs-target":"#ModalUser","data-modalcall":"none","data-user_id":"0",type:"button",className:"btn btn-sm btn-outline-primary",children:"Adicionar"})]}),Object(Ae.jsx)("thead",{className:"thead-dark",children:Object(Ae.jsxs)("tr",{children:[Object(Ae.jsx)("th",{scope:"col",children:"#"}),Object(Ae.jsx)("th",{scope:"col",children:"Usu\xe1rio"}),Object(Ae.jsx)("th",{scope:"col",children:"Nome"}),Object(Ae.jsx)("th",{scope:"col",children:"Sobrenome"}),Object(Ae.jsx)("th",{scope:"col",children:"Email"}),Object(Ae.jsx)("th",{scope:"col",children:"Matr\xedcula"}),Object(Ae.jsx)("th",{scope:"col",children:"Administrador"}),Object(Ae.jsx)("th",{scope:"col",children:"\xdaltimo Login"}),Object(Ae.jsx)("th",{scope:"col",children:"Ativo"}),Object(Ae.jsx)("th",{scope:"col"})]})}),Object(Ae.jsx)("tbody",{children:t.map((function(t,a){return Object(Ae.jsxs)("tr",{children:[Object(Ae.jsx)("td",{children:t.id}),Object(Ae.jsx)("td",{children:t.username}),Object(Ae.jsx)("td",{children:t.first_name}),Object(Ae.jsx)("td",{children:t.last_name}),Object(Ae.jsx)("td",{children:t.email}),Object(Ae.jsx)("td",{children:t.profile.matricula}),Object(Ae.jsx)("td",{children:t.is_staff?"Sim":"N\xe3o"}),Object(Ae.jsx)("td",{children:t.last_login}),Object(Ae.jsx)("td",{children:t.is_active?"Sim":"N\xe3o"}),Object(Ae.jsxs)("td",{children:[Object(Ae.jsx)("button",{onClick:function(){return function(t){var a="Tem certeza que gostaria de deletar este Usu\xe1rio?";a+="\r\n",a+="Usu\xe1rio: "+t.username,window.confirm(a)&&e(pe.delete(t.id))}(t)},className:"btn btn-outline-primary border-0 d-flex justify-content-center align-content-between p-1 mr-1 float-right",type:"button",title:"Deletar usu\xe1rio",children:Object(Ae.jsx)("i",{className:"fa fa-trash"})}),Object(Ae.jsx)("button",{"data-bs-toggle":"modal","data-bs-target":"#ModalUser","data-modalcall":"user","data-user_id":t.id,className:"btn btn-outline-primary border-0 d-flex justify-content-center align-content-between p-1 mr-1 float-right",type:"button",title:"Editar usu\xe1rio",children:Object(Ae.jsx)("i",{className:"fa fa-pencil-square-o"})})]})]},t.id)}))})]})},la=function(e){var t=e.user,a=Object(l.b)(),n=function(){var e="Tem certeza que gostaria de deletar este Usu\xe1rio?";e+="\r\n",e+="Usu\xe1rio: "+t.username,window.confirm(e)&&(a(pe.delete(t.id)),V.a.Modal.getInstance(document.getElementById("ModalUser")).hide())};return Object(Ae.jsx)(pt.b,{initialValues:t,onSubmit:function(e){var t=!1;void 0!==e.id&&(void 0!==e.password&&""!==e.password||delete e.password,0===e.id?(a(pe.create(e)),t=!0):(a(pe.update(e)),t=!0)),t&&V.a.Modal.getInstance(document.getElementById("ModalUser")).hide()},render:function(e){var a=e.handleSubmit,c=e.form;return Object(Ae.jsxs)("form",{onSubmit:a,className:"needs-validation",noValidate:!0,children:[Object(Ae.jsx)("div",{className:"modal-body container",children:Object(Ae.jsxs)("div",{className:"container",children:[Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(xt,{name:"username",label:"Usu\xe1rio:",className:"m-1",validate:Ot,format:function(e){return e?e.toLowerCase():""}})}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(xt,{name:"first_name",label:"Nome:",className:"m-1",validate:Ot})}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(xt,{name:"last_name",label:"Sobrenome:",className:"m-1"})}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(xt,{name:"email",label:"Email:",className:"m-1"})}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(xt,{name:"profile.matricula",label:"Matr\xedcula:",className:"m-1"})}),Object(Ae.jsx)(yt,{name:"is_staff",label:"Administrador"}),Object(Ae.jsx)(yt,{name:"is_active",label:"Ativo"}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(xt,{name:"password",label:"Senha:",className:"m-1",validate:function(e){return e?e.length>=4?void 0:"A senha deve ter ao menos 6 caracteres":void 0}})}),Object(Ae.jsx)("span",{children:"Obs.: Senha em branco n\xe3o ir\xe1 alterar a senha do usu\xe1rio."})]})}),Object(Ae.jsx)(wt,{canDelete:void 0!==t&&0!==t.id,canCopy:!1,onDelete:n,form:c})]})}})};function da(){var e=Object(c.useState)(),t=Object(Pe.a)(e,2),a=t[0],n=t[1],i=function(e){var t,a=ge.getState().user.userprofiles.users;"0"!==e.relatedTarget.dataset.user_id&&(t=a.find((function(t){return t.id.toString()===e.relatedTarget.dataset.user_id}))),n(void 0!==t?t:{id:0,username:"",first_name:"",last_name:"",email:"",is_staff:!1,is_active:!0,resethack:[]})};return Object(c.useEffect)((function(){return window.addEventListener("show.bs.modal",i),function(){return window.removeEventListener("show.bs.modal",i)}}),[]),Object(Ae.jsx)("div",{id:"ModalUser",className:"modal fade",tabIndex:"-1",role:"dialog","aria-hidden":"true","data-bs-backdrop":"static",children:Object(Ae.jsx)("div",{className:"modal-dialog",role:"document",children:Object(Ae.jsxs)("div",{className:"modal-content",children:[Object(Ae.jsxs)("div",{className:"modal-header",children:[Object(Ae.jsx)("h5",{className:"modal-title font-weight-bold",children:void 0!==a&&0!==a.id?"Editar "+a.username:"Novo usu\xe1rio"}),Object(Ae.jsx)("button",{type:"button",className:"close","data-bs-dismiss":"modal","aria-label":"Close",children:Object(Ae.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(Ae.jsx)(la,{user:a})]})})})}var ua=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.report.report_event_types.report_event_types}));Object(c.useEffect)((function(){e(ae.read())}),[e]);return Object(Ae.jsxs)("table",{className:"table table-sm table-light table-striped table-bordered my-2",children:[Object(Ae.jsxs)("caption",{children:["Lista de Tipos de Relat\xf3rios"," ",Object(Ae.jsx)("button",{"data-bs-toggle":"modal","data-bs-target":"#ModalReportType","data-modalcall":"none","data-report_type_id":"0",type:"button",className:"btn btn-sm btn-outline-primary",children:"Adicionar"})]}),Object(Ae.jsx)("thead",{className:"thead-dark",children:Object(Ae.jsxs)("tr",{children:[Object(Ae.jsx)("th",{scope:"col",children:"#"}),Object(Ae.jsx)("th",{scope:"col",children:"Ordem"}),Object(Ae.jsx)("th",{scope:"col",children:"Nome"}),Object(Ae.jsx)("th",{scope:"col",children:"Abrevia\xe7\xe3o"}),Object(Ae.jsx)("th",{scope:"col",children:"Cor"}),Object(Ae.jsx)("th",{scope:"col"})]})}),Object(Ae.jsx)("tbody",{children:t.sort((function(e,t){return e.order-t.order})).map((function(t,a){return Object(Ae.jsxs)("tr",{children:[Object(Ae.jsx)("td",{children:t.id}),Object(Ae.jsx)("td",{children:t.order}),Object(Ae.jsx)("td",{children:t.name}),Object(Ae.jsx)("td",{children:t.short_name}),Object(Ae.jsxs)("td",{children:[t.css_color,Object(Ae.jsx)("input",{type:"color",disabled:!0,className:"mx-1",value:t.css_color?t.css_color:""})]}),Object(Ae.jsxs)("td",{children:[Object(Ae.jsx)("button",{onClick:function(){return function(t){var a="Tem certeza que gostaria de deletar este Tipo de Relat\xf3rio?";a+="\r\n",a+="Tipo de Vistoria: "+t.name,window.confirm(a)&&e(ae.delete(t.id))}(t)},className:"btn btn-outline-primary border-0 d-flex justify-content-center align-content-between p-1 mr-1 float-right",type:"button",title:"Deletar tipo",children:Object(Ae.jsx)("i",{className:"fa fa-trash"})}),Object(Ae.jsx)("button",{"data-bs-toggle":"modal","data-bs-target":"#ModalReportType","data-modalcall":"reporttype","data-report_type_id":t.id,className:"btn btn-outline-primary border-0 d-flex justify-content-center align-content-between p-1 mr-1 float-right",type:"button",title:"Editar tipo",children:Object(Ae.jsx)("i",{className:"fa fa-pencil-square-o"})})]})]},t.id)}))})]})},ba=function(e){var t=e.reportType,a=Object(l.b)(),n=function(){var e="Tem certeza que gostaria de deletar este Tipo de Relat\xf3rio?";e+="\r\n",e+="Tipo de Relat\xf3rio: "+t.name,window.confirm(e)&&(a(ae.delete(t.id)),V.a.Modal.getInstance(document.getElementById("ModalReportType")).hide())};return Object(Ae.jsx)(pt.b,{initialValues:t,onSubmit:function(e){var t=!1;void 0!==e.id&&(0===e.id?(a(ae.create(e)),t=!0):(a(ae.update(e)),t=!0)),t&&V.a.Modal.getInstance(document.getElementById("ModalReportType")).hide()},render:function(e){var a=e.handleSubmit,c=e.form;return Object(Ae.jsxs)("form",{onSubmit:a,className:"needs-validation",noValidate:!0,children:[Object(Ae.jsx)("div",{className:"modal-body container",children:Object(Ae.jsxs)("div",{className:"container",children:[Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(xt,{name:"order",label:"Ordem:",type:"number",className:"m-1",min:"1",max:"99",validate:Ot})}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(xt,{name:"name",label:"Nome:",className:"m-1",validate:Ot})}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(xt,{name:"short_name",label:"Abrevia\xe7\xe3o:",className:"m-1",validate:Ot})}),Object(Ae.jsxs)("div",{className:"form-inline",children:[Object(Ae.jsx)(xt,{name:"css_color",parse:Object(Et.a)("#AAAAAA"),label:"Cor:",className:"m-1",validate:Ot}),Object(Ae.jsx)(xt,{name:"css_color",type:"color",className:"m-1",validate:Ot})]})]})}),Object(Ae.jsx)(wt,{canDelete:void 0!==t&&0!==t.id,canCopy:!1,onDelete:n,form:c})]})}})};function ja(){var e=Object(c.useState)(),t=Object(Pe.a)(e,2),a=t[0],n=t[1],i=function(e){var t,a=ge.getState().report.report_event_types.report_event_types;"0"!==e.relatedTarget.dataset.report_type_id&&(t=a.find((function(t){return t.id.toString()===e.relatedTarget.dataset.report_type_id})));var c=Math.max.apply(Math,ge.getState().report.report_event_types.report_event_types.filter((function(e){return 99!==e.order})).map((function(e){return e.order})));c===-1/0&&(c=0),n(void 0!==t?t:{id:0,order:c+1,name:"",short_name:"",css_color:"#000000",resethack:[]})};return Object(c.useEffect)((function(){return window.addEventListener("show.bs.modal",i),function(){return window.removeEventListener("show.bs.modal",i)}}),[]),Object(Ae.jsx)("div",{id:"ModalReportType",className:"modal fade",tabIndex:"-1",role:"dialog","aria-hidden":"true","data-bs-backdrop":"static",children:Object(Ae.jsx)("div",{className:"modal-dialog",role:"document",children:Object(Ae.jsxs)("div",{className:"modal-content",children:[Object(Ae.jsxs)("div",{className:"modal-header",children:[Object(Ae.jsx)("h5",{className:"modal-title font-weight-bold",children:void 0!==a&&0!==a.id?"Editar "+a.name:"Novo tipo de Relat\xf3rio"}),Object(Ae.jsx)("button",{type:"button",className:"close","data-bs-dismiss":"modal","aria-label":"Close",children:Object(Ae.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(Ae.jsx)(ba,{reportType:a})]})})})}var ma=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.survey.survey_event_types.survey_event_types}));Object(c.useEffect)((function(){e(Q.read())}),[e]);return Object(Ae.jsxs)("table",{className:"table table-sm table-light table-striped table-bordered my-2",children:[Object(Ae.jsxs)("caption",{children:["Lista de Tipos de Vistorias"," ",Object(Ae.jsx)("button",{"data-bs-toggle":"modal","data-bs-target":"#ModalSurveyType","data-modalcall":"none","data-survey_type_id":"0",type:"button",className:"btn btn-sm btn-outline-primary",children:"Adicionar"})]}),Object(Ae.jsx)("thead",{className:"thead-dark",children:Object(Ae.jsxs)("tr",{children:[Object(Ae.jsx)("th",{scope:"col",children:"#"}),Object(Ae.jsx)("th",{scope:"col",children:"Ordem"}),Object(Ae.jsx)("th",{scope:"col",children:"Nome"}),Object(Ae.jsx)("th",{scope:"col",children:"Abrevia\xe7\xe3o"}),Object(Ae.jsx)("th",{scope:"col",children:"Cor"}),Object(Ae.jsx)("th",{scope:"col"})]})}),Object(Ae.jsx)("tbody",{children:t.sort((function(e,t){return e.order-t.order})).map((function(t,a){return Object(Ae.jsxs)("tr",{children:[Object(Ae.jsx)("td",{children:t.id}),Object(Ae.jsx)("td",{children:t.order}),Object(Ae.jsx)("td",{children:t.name}),Object(Ae.jsx)("td",{children:t.short_name}),Object(Ae.jsxs)("td",{children:[t.css_color,Object(Ae.jsx)("input",{type:"color",disabled:!0,className:"mx-1",value:t.css_color?t.css_color:""})]}),Object(Ae.jsxs)("td",{children:[Object(Ae.jsx)("button",{onClick:function(){return function(t){var a="Tem certeza que gostaria de deletar este Tipo de Vistoria?";a+="\r\n",a+="Tipo de Vistoria: "+t.name,window.confirm(a)&&e(Q.delete(t.id))}(t)},className:"btn btn-outline-primary border-0 d-flex justify-content-center align-content-between p-1 mr-1 float-right",type:"button",title:"Deletar tipo",children:Object(Ae.jsx)("i",{className:"fa fa-trash"})}),Object(Ae.jsx)("button",{"data-bs-toggle":"modal","data-bs-target":"#ModalSurveyType","data-modalcall":"surveytype","data-survey_type_id":t.id,className:"btn btn-outline-primary border-0 d-flex justify-content-center align-content-between p-1 mr-1 float-right",type:"button",title:"Editar tipo",children:Object(Ae.jsx)("i",{className:"fa fa-pencil-square-o"})})]})]},t.id)}))})]})},pa=function(e){var t=e.surveyType,a=Object(l.b)(),n=function(){var e="Tem certeza que gostaria de deletar este Tipo de Vistoria?";e+="\r\n",e+="Tipo de Vistoria: "+t.name,window.confirm(e)&&(a(Q.delete(t.id)),V.a.Modal.getInstance(document.getElementById("ModalSurveyType")).hide())};return Object(Ae.jsx)(pt.b,{initialValues:t,onSubmit:function(e){var t=!1;void 0!==e.id&&(0===e.id?(a(Q.create(e)),t=!0):(a(Q.update(e)),t=!0)),t&&V.a.Modal.getInstance(document.getElementById("ModalSurveyType")).hide()},render:function(e){var a=e.handleSubmit,c=e.form;return Object(Ae.jsxs)("form",{onSubmit:a,className:"needs-validation",noValidate:!0,children:[Object(Ae.jsx)("div",{className:"modal-body container",children:Object(Ae.jsxs)("div",{className:"container",children:[Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(xt,{name:"order",label:"Ordem:",type:"number",className:"m-1",min:"1",max:"99",validate:Ot})}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(xt,{name:"name",label:"Nome:",className:"m-1",validate:Ot})}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(xt,{name:"short_name",label:"Abrevia\xe7\xe3o:",className:"m-1",validate:Ot})}),Object(Ae.jsxs)("div",{className:"form-inline",children:[Object(Ae.jsx)(xt,{name:"css_color",parse:Object(Et.a)("#AAAAAA"),label:"Cor:",className:"m-1",validate:Ot}),Object(Ae.jsx)(xt,{name:"css_color",type:"color",className:"m-1",validate:Ot})]})]})}),Object(Ae.jsx)(wt,{canDelete:void 0!==t&&0!==t.id,canCopy:!1,onDelete:n,form:c})]})}})};function va(){var e=Object(c.useState)(),t=Object(Pe.a)(e,2),a=t[0],n=t[1],i=function(e){var t,a=ge.getState().survey.survey_event_types.survey_event_types;"0"!==e.relatedTarget.dataset.survey_type_id&&(t=a.find((function(t){return t.id.toString()===e.relatedTarget.dataset.survey_type_id})));var c=Math.max.apply(Math,ge.getState().survey.survey_event_types.survey_event_types.filter((function(e){return 99!==e.order})).map((function(e){return e.order})));c===-1/0&&(c=0),n(void 0!==t?t:{id:0,order:c+1,name:"",short_name:"",css_color:"#000000",resethack:[]})};return Object(c.useEffect)((function(){return window.addEventListener("show.bs.modal",i),function(){return window.removeEventListener("show.bs.modal",i)}}),[]),Object(Ae.jsx)("div",{id:"ModalSurveyType",className:"modal fade",tabIndex:"-1",role:"dialog","aria-hidden":"true","data-bs-backdrop":"static",children:Object(Ae.jsx)("div",{className:"modal-dialog",role:"document",children:Object(Ae.jsxs)("div",{className:"modal-content",children:[Object(Ae.jsxs)("div",{className:"modal-header",children:[Object(Ae.jsx)("h5",{className:"modal-title font-weight-bold",children:void 0!==a&&0!==a.id?"Editar "+a.name:"Novo tipo de Vistoria"}),Object(Ae.jsx)("button",{type:"button",className:"close","data-bs-dismiss":"modal","aria-label":"Close",children:Object(Ae.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(Ae.jsx)(pa,{surveyType:a})]})})})}var fa=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.notice.notice_event_types.notice_event_types}));Object(c.useEffect)((function(){e(q.read())}),[e]);return Object(Ae.jsxs)("table",{className:"table table-sm table-light table-striped table-bordered my-2",children:[Object(Ae.jsxs)("caption",{children:["Lista de Tipos de Autos e relacionados"," ",Object(Ae.jsx)("button",{"data-bs-toggle":"modal","data-bs-target":"#ModalNoticeType","data-modalcall":"none","data-notice_type_id":"0",type:"button",className:"btn btn-sm btn-outline-primary",children:"Adicionar"})]}),Object(Ae.jsxs)("thead",{className:"thead-dark",children:[Object(Ae.jsxs)("tr",{children:[Object(Ae.jsx)("th",{scope:"col",rowSpan:"2",children:"#"}),Object(Ae.jsx)("th",{scope:"col",rowSpan:"2",children:"Ordem"}),Object(Ae.jsx)("th",{scope:"col",rowSpan:"2",children:"Nome"}),Object(Ae.jsx)("th",{scope:"col",rowSpan:"2",children:"Abrevia\xe7\xe3o"}),Object(Ae.jsx)("th",{scope:"col",colSpan:"3",children:"Padr\xe3o"}),Object(Ae.jsx)("th",{scope:"col",rowSpan:"2",children:"Cor"}),Object(Ae.jsx)("th",{scope:"col",colSpan:"6",children:"Mostrar"}),Object(Ae.jsx)("th",{scope:"col",rowSpan:"2"})]}),Object(Ae.jsxs)("tr",{children:[Object(Ae.jsx)("th",{scope:"col",children:"Prazo (dias)"}),Object(Ae.jsx)("th",{scope:"col",children:"Dias \xfateis"}),Object(Ae.jsx)("th",{scope:"col",children:"Concluido"}),Object(Ae.jsx)("th",{scope:"col",children:"Concluido"}),Object(Ae.jsx)("th",{scope:"col",children:"RF"}),Object(Ae.jsx)("th",{scope:"col",children:"Prazo"}),Object(Ae.jsx)("th",{scope:"col",children:"Multa"}),Object(Ae.jsx)("th",{scope:"col",children:"Recurso"}),Object(Ae.jsx)("th",{scope:"col",children:"Na data de in\xedcio"})]})]}),Object(Ae.jsx)("tbody",{children:t.sort((function(e,t){return e.order-t.order})).map((function(t,a){return Object(Ae.jsxs)("tr",{children:[Object(Ae.jsx)("td",{children:t.id}),Object(Ae.jsx)("td",{children:t.order}),Object(Ae.jsx)("td",{children:t.name}),Object(Ae.jsx)("td",{children:t.short_name}),Object(Ae.jsx)("td",{children:t.default_deadline}),Object(Ae.jsx)("td",{children:t.default_deadline_working_days?"Sim":"N\xe3o"}),Object(Ae.jsx)("td",{children:t.default_concluded?"Sim":"N\xe3o"}),Object(Ae.jsxs)("td",{children:[t.css_color,Object(Ae.jsx)("input",{type:"color",disabled:!0,className:"mx-1",value:t.css_color?t.css_color:""})]}),Object(Ae.jsx)("td",{children:t.show_concluded?"Sim":"N\xe3o"}),Object(Ae.jsx)("td",{children:t.show_report_number?"Sim":"N\xe3o"}),Object(Ae.jsx)("td",{children:t.show_deadline?"Sim":"N\xe3o"}),Object(Ae.jsx)("td",{children:t.show_fine?"Sim":"N\xe3o"}),Object(Ae.jsx)("td",{children:t.show_appeal?"Sim":"N\xe3o"}),Object(Ae.jsx)("td",{children:t.show_start?"Sim":"N\xe3o"}),Object(Ae.jsxs)("td",{children:[Object(Ae.jsx)("button",{onClick:function(){return function(t){var a="Tem certeza que gostaria de deletar este Tipo de Auto?";a+="\r\n",a+="Tipo de Auto: "+t.name,window.confirm(a)&&e(q.delete(t.id))}(t)},className:"btn btn-outline-primary border-0 d-flex justify-content-center align-content-between p-1 mr-1 float-right",type:"button",title:"Deletar tipo",children:Object(Ae.jsx)("i",{className:"fa fa-trash"})}),Object(Ae.jsx)("button",{"data-bs-toggle":"modal","data-bs-target":"#ModalNoticeType","data-modalcall":"noticetype","data-notice_type_id":t.id,className:"btn btn-outline-primary border-0 d-flex justify-content-center align-content-between p-1 mr-1 float-right",type:"button",title:"Editar tipo",children:Object(Ae.jsx)("i",{className:"fa fa-pencil-square-o"})})]})]},t.id)}))})]})},Oa=function(e){var t=e.noticeType,a=Object(l.b)(),n=function(){var e="Tem certeza que gostaria de deletar este Tipo de Auto?";e+="\r\n",e+="Tipo de Auto: "+t.name,window.confirm(e)&&(a(q.delete(t.id)),V.a.Modal.getInstance(document.getElementById("ModalNoticeType")).hide())};return Object(Ae.jsx)(pt.b,{initialValues:t,onSubmit:function(e){var t=!1;void 0!==e.id&&(0===e.id?(a(q.create(e)),t=!0):(a(q.update(e)),t=!0)),t&&V.a.Modal.getInstance(document.getElementById("ModalNoticeType")).hide()},render:function(e){var a=e.handleSubmit,c=e.form;return Object(Ae.jsxs)("form",{onSubmit:a,className:"needs-validation",noValidate:!0,children:[Object(Ae.jsx)("div",{className:"modal-body container",children:Object(Ae.jsxs)("div",{className:"container",children:[Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(xt,{name:"order",label:"Ordem:",type:"number",className:"m-1",min:"1",max:"99",validate:Ot})}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(xt,{name:"name",label:"Nome:",className:"m-1",validate:Ot})}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(xt,{name:"short_name",label:"Abrevia\xe7\xe3o:",className:"m-1",validate:Ot})}),Object(Ae.jsxs)("div",{className:"form-inline",children:[Object(Ae.jsx)(xt,{name:"default_deadline",format:function(e){return e?parseInt(e):"0"},label:"Prazo padr\xe3o (dias):",type:"number",min:"0",max:"999",className:"m-1",validate:Ot}),Object(Ae.jsx)(yt,{name:"default_deadline_working_days",label:"apenas dias \xfateis"})]}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(yt,{name:"default_concluded",label:"Concluido por padr\xe3o"})}),Object(Ae.jsxs)("div",{className:"form-inline",children:[Object(Ae.jsx)(xt,{name:"css_color",parse:Object(Et.a)("#AAAAAA"),label:"Cor:",className:"m-1",validate:Ot}),Object(Ae.jsx)(xt,{name:"css_color",type:"color",className:"m-1",validate:Ot})]}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(yt,{name:"show_concluded",label:"Tem conclus\xe3o?"})}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(yt,{name:"show_report_number",label:"Tem Relat\xf3rio Fiscal?"})}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(yt,{name:"show_deadline",label:"Tem prazo?"})}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(yt,{name:"show_fine",label:"Tem Multa?"})}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(yt,{name:"show_appeal",label:"Tem Recurso?"})}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(yt,{name:"show_start",label:"Mostrar evento na data de in\xedcio?"})})]})}),Object(Ae.jsx)(wt,{canDelete:void 0!==t&&0!==t.id,canCopy:!1,onDelete:n,form:c})]})}})};function ha(){var e=Object(c.useState)(),t=Object(Pe.a)(e,2),a=t[0],n=t[1],i=function(e){var t,a=ge.getState().notice.notice_event_types.notice_event_types;"0"!==e.relatedTarget.dataset.notice_type_id&&(t=a.find((function(t){return t.id.toString()===e.relatedTarget.dataset.notice_type_id})));var c=Math.max.apply(Math,ge.getState().notice.notice_event_types.notice_event_types.map((function(e){return e.order})));c===-1/0&&(c=0),n(void 0!==t?t:{id:0,order:c+1,name:"",short_name:"",default_deadline:"0",default_deadline_working_days:!0,default_concluded:!1,css_color:"#000000",show_concluded:!0,show_report_number:!0,show_deadline:!0,show_fine:!0,show_start:!0,resethack:[]})};return Object(c.useEffect)((function(){return window.addEventListener("show.bs.modal",i),function(){return window.removeEventListener("show.bs.modal",i)}}),[]),Object(Ae.jsx)("div",{id:"ModalNoticeType",className:"modal fade",tabIndex:"-1",role:"dialog","aria-hidden":"true","data-bs-backdrop":"static",children:Object(Ae.jsx)("div",{className:"modal-dialog",role:"document",children:Object(Ae.jsxs)("div",{className:"modal-content",children:[Object(Ae.jsxs)("div",{className:"modal-header",children:[Object(Ae.jsx)("h5",{className:"modal-title font-weight-bold",children:void 0!==a&&0!==a.id?"Editar "+a.name:"Novo tipo de Auto"}),Object(Ae.jsx)("button",{type:"button",className:"close","data-bs-dismiss":"modal","aria-label":"Close",children:Object(Ae.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(Ae.jsx)(Oa,{noticeType:a})]})})})}var xa=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.notice.notice_event_type_files.notice_event_type_files})),a=Object(l.c)((function(e){return e.notice.notice_event_types.notice_event_types}));Object(c.useEffect)((function(){e(H.read())}),[e]);return Object(Ae.jsxs)("table",{className:"table table-sm table-light table-striped table-bordered my-2",children:[Object(Ae.jsxs)("caption",{children:["Lista de Notifica\xe7\xf5es de Autos"," ",Object(Ae.jsx)("button",{"data-bs-toggle":"modal","data-bs-target":"#ModalNoticeTypeFile","data-modalcall":"none","data-notice_type_id":"0",type:"button",className:"btn btn-sm btn-outline-primary",children:"Adicionar"})]}),Object(Ae.jsx)("thead",{className:"thead-dark",children:Object(Ae.jsxs)("tr",{children:[Object(Ae.jsx)("th",{scope:"col",children:"#"}),Object(Ae.jsx)("th",{scope:"col",children:"Ordem"}),Object(Ae.jsx)("th",{scope:"col",children:"Nome"}),Object(Ae.jsx)("th",{scope:"col",children:"Tipo de Auto"}),Object(Ae.jsx)("th",{scope:"col"})]})}),Object(Ae.jsx)("tbody",{children:t.sort((function(e,t){return e.order-t.order})).map((function(t,n){var c=a.find((function(e){return e.id===t.notice_event_type})),i=t.file_doc;return i.startsWith("https")||(i=i.replace("http","https")),Object(Ae.jsxs)("tr",{children:[Object(Ae.jsx)("td",{children:t.id}),Object(Ae.jsx)("td",{children:t.order}),Object(Ae.jsx)("td",{children:Object(Ae.jsx)("a",{href:i,target:"_blank",rel:"noreferrer noopener",children:t.name})}),Object(Ae.jsx)("td",{children:c&&c.name}),Object(Ae.jsxs)("td",{children:[Object(Ae.jsx)("button",{onClick:function(){return function(t){var a="Tem certeza que gostaria de deletar esta Notifica\xe7\xe3o de Auto?";a+="\r\n",a+="Notifica\xe7\xe3o de Auto: "+t.name,window.confirm(a)&&e(H.delete(t.id))}(t)},className:"btn btn-outline-primary border-0 d-flex justify-content-center align-content-between p-1 mr-1 float-right",type:"button",title:"Deletar Notifica\xe7\xe3o",children:Object(Ae.jsx)("i",{className:"fa fa-trash"})}),Object(Ae.jsx)("button",{"data-bs-toggle":"modal","data-bs-target":"#ModalNoticeTypeFile","data-modalcall":"noticetypefile","data-notice_type_file_id":t.id,className:"btn btn-outline-primary border-0 d-flex justify-content-center align-content-between p-1 mr-1 float-right",type:"button",title:"Editar Notifica\xe7\xe3o",children:Object(Ae.jsx)("i",{className:"fa fa-pencil-square-o"})})]})]},t.id)}))})]})},ya=function(e){var t=e.noticeTypeFile,a=Object(l.c)((function(e){return e.notice.notice_event_types.notice_event_types})),n=Object(l.b)(),c=function(){var e="Tem certeza que gostaria de deletar esta Notifica\xe7\xe3o de Auto?";e+="\r\n",e+="Notifica\xe7\xe3o de Auto: "+t.name,window.confirm(e)&&(n(H.delete(t.id)),V.a.Modal.getInstance(document.getElementById("ModalNoticeTypeFile")).hide())};return Object(Ae.jsx)(pt.b,{initialValues:Object(s.a)(Object(s.a)({},t),{},{file_doc:""}),onSubmit:function(e){var t=!1;void 0!==e.id&&(0===e.id?(n(H.create(e)),t=!0):(e.file_doc&&!e.file_doc.toString().startsWith("http")||delete e.file_doc,n(H.update(e)),t=!0)),t&&V.a.Modal.getInstance(document.getElementById("ModalNoticeTypeFile")).hide()},render:function(e){var n=e.handleSubmit,i=e.form;return Object(Ae.jsxs)("form",{onSubmit:n,className:"needs-validation",noValidate:!0,children:[Object(Ae.jsx)("div",{className:"modal-body container",children:Object(Ae.jsxs)("div",{className:"container",children:[Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(xt,{name:"order",label:"Ordem:",type:"number",className:"m-1",min:"1",max:"99",validate:Ot})}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(xt,{name:"name",label:"Nome:",className:"m-1",validate:Ot})}),Object(Ae.jsxs)("div",{className:"form-inline",children:[Object(Ae.jsx)(Nt,{name:"file_doc",id:"file_doc",label:"Escolha um arquivo"}),t&&t.file_doc&&Object(Ae.jsx)("a",{href:t.file_doc,target:"_blank",rel:"noreferrer noopener",children:"Baixar arquivo"})]}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsxs)(_t,{name:"notice_event_type",label:"Tipo:",className:"m-1",classNameDiv:"mx-1",validate:Ot,children:[Object(Ae.jsx)("option",{value:"",children:"---------"}),a.map((function(e,t){return Object(Ae.jsxs)("option",{value:e.id,children:[e.order," - ",e.name]},e.id)}))]})})]})}),Object(Ae.jsx)(wt,{canDelete:void 0!==t&&0!==t.id,canCopy:!1,onDelete:c,form:i})]})}})};function _a(){var e=Object(c.useState)(),t=Object(Pe.a)(e,2),a=t[0],n=t[1],i=function(e){var t,a=ge.getState().notice.notice_event_type_files.notice_event_type_files;"0"!==e.relatedTarget.dataset.notice_type_id&&(t=a.find((function(t){return t.id.toString()===e.relatedTarget.dataset.notice_type_file_id})));var c=Math.max.apply(Math,ge.getState().notice.notice_event_type_files.notice_event_type_files.map((function(e){return e.order})));c===-1/0&&(c=0),n(void 0!==t?t:{id:0,order:c+1,name:"",file_doc:null,notice_event_type:"1",resethack:[]})};return Object(c.useEffect)((function(){return window.addEventListener("show.bs.modal",i),function(){return window.removeEventListener("show.bs.modal",i)}}),[]),Object(Ae.jsx)("div",{id:"ModalNoticeTypeFile",className:"modal fade",tabIndex:"-1",role:"dialog","aria-hidden":"true","data-bs-backdrop":"static",children:Object(Ae.jsx)("div",{className:"modal-dialog",role:"document",children:Object(Ae.jsxs)("div",{className:"modal-content",children:[Object(Ae.jsxs)("div",{className:"modal-header",children:[Object(Ae.jsx)("h5",{className:"modal-title font-weight-bold",children:void 0!==a&&0!==a.id?"Editar "+a.name:"Nova Notifica\xe7\xe3o de Auto"}),Object(Ae.jsx)("button",{type:"button",className:"close","data-bs-dismiss":"modal","aria-label":"Close",children:Object(Ae.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(Ae.jsx)(ya,{noticeTypeFile:a})]})})})}var ga=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.notice.notice_colors.notice_colors}));Object(c.useEffect)((function(){e(B.read())}),[e]);return Object(Ae.jsxs)("table",{className:"table table-sm table-light table-striped table-bordered my-2",children:[Object(Ae.jsxs)("caption",{children:["Lista de Cores para data de in\xedcio dos Autos e relacionados"," ",Object(Ae.jsx)("button",{"data-bs-toggle":"modal","data-bs-target":"#ModalNoticeColor","data-modalcall":"none","data-notice_color_id":"0",type:"button",className:"btn btn-sm btn-outline-primary",children:"Adicionar"})]}),Object(Ae.jsx)("thead",{className:"thead-dark",children:Object(Ae.jsxs)("tr",{children:[Object(Ae.jsx)("th",{scope:"col",children:"#"}),Object(Ae.jsx)("th",{scope:"col",children:"Combina\xe7\xe3o"}),Object(Ae.jsx)("th",{scope:"col",children:"Cor"}),Object(Ae.jsx)("th",{scope:"col"})]})}),Object(Ae.jsx)("tbody",{children:t.map((function(t,a){return Object(Ae.jsxs)("tr",{children:[Object(Ae.jsx)("td",{children:t.id}),Object(Ae.jsx)("td",{children:t.css_name}),Object(Ae.jsxs)("td",{children:[t.css_color,Object(Ae.jsx)("input",{type:"color",disabled:!0,className:"mx-1",value:t.css_color})]}),Object(Ae.jsxs)("td",{children:[Object(Ae.jsx)("button",{onClick:function(){return function(t){var a="Tem certeza que gostaria de deletar esta cor de Auto?";a+="\r\n",a+="Combina\xe7\xe3o: "+t.css_name,window.confirm(a)&&e(B.delete(t.id))}(t)},className:"btn btn-outline-primary border-0 d-flex justify-content-center align-content-between p-1 mr-1 float-right",type:"button",title:"Deletar tipo",children:Object(Ae.jsx)("i",{className:"fa fa-trash"})}),Object(Ae.jsx)("button",{"data-bs-toggle":"modal","data-bs-target":"#ModalNoticeColor","data-modalcall":"noticecolor","data-notice_color_id":t.id,className:"btn btn-outline-primary border-0 d-flex justify-content-center align-content-between p-1 mr-1 float-right",type:"button",title:"Editar tipo",children:Object(Ae.jsx)("i",{className:"fa fa-pencil-square-o"})})]})]},t.id)}))})]})},Na=function(e){var t=e.noticeColor,a=Object(l.b)(),n=Object(l.c)((function(e){return e.notice.notice_event_types.notice_event_types})),c=function(){var e="Tem certeza que gostaria de deletar esta cor de Auto?";e+="\r\n",e+="Combina\xe7\xe3o: "+t.css_name,window.confirm(e)&&(a(B.delete(t.id)),V.a.Modal.getInstance(document.getElementById("ModalNoticeColor")).hide())};return Object(Ae.jsx)(pt.b,{initialValues:t,onSubmit:function(e){var t=!1;void 0!==e.id&&(0===e.id?(a(B.create(e)),t=!0):(a(B.update(e)),t=!0)),t&&V.a.Modal.getInstance(document.getElementById("ModalNoticeColor")).hide()},render:function(e){var a=e.handleSubmit,i=e.form;return Object(Ae.jsxs)("form",{onSubmit:a,className:"needs-validation",noValidate:!0,children:[Object(Ae.jsx)("div",{className:"modal-body container",children:Object(Ae.jsxs)("div",{className:"container",children:[Object(Ae.jsx)(_t,{name:"notice_event_types",label:"Combina\xe7\xe3o de Autos:",validate:Ot,className:"m-1 custom-select",multiple:!0,classNameDiv:"mx-1",size:n.length,children:n.map((function(e,t){return Object(Ae.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(Ae.jsx)("span",{children:"Obs.: Precione CTRL para multiplas sele\xe7\xf5es."}),Object(Ae.jsxs)("div",{className:"form-inline",children:[Object(Ae.jsx)(xt,{name:"css_color",parse:Object(Et.a)("#AAAAAA"),label:"Cor:",className:"m-1",validate:Ot}),Object(Ae.jsx)(xt,{name:"css_color",type:"color",className:"m-1",validate:Ot})]})]})}),Object(Ae.jsx)(wt,{canDelete:void 0!==t&&0!==t.id,canCopy:!1,onDelete:c,form:i})]})}})};function wa(){var e=Object(c.useState)(),t=Object(Pe.a)(e,2),a=t[0],n=t[1],i=function(e){var t,a=ge.getState().notice.notice_colors.notice_colors;"0"!==e.relatedTarget.dataset.notice_color_id&&(t=a.find((function(t){return t.id.toString()===e.relatedTarget.dataset.notice_color_id}))),n(void 0!==t?t:{id:0,css_color:"#000000",resethack:[]})};return Object(c.useEffect)((function(){return window.addEventListener("show.bs.modal",i),function(){return window.removeEventListener("show.bs.modal",i)}}),[]),Object(Ae.jsx)("div",{id:"ModalNoticeColor",className:"modal fade",tabIndex:"-1",role:"dialog","aria-hidden":"true","data-bs-backdrop":"static",children:Object(Ae.jsx)("div",{className:"modal-dialog",role:"document",children:Object(Ae.jsxs)("div",{className:"modal-content",children:[Object(Ae.jsxs)("div",{className:"modal-header",children:[Object(Ae.jsx)("h5",{className:"modal-title font-weight-bold",children:void 0!==a&&0!==a.id?"Editar "+a.name:"Nova combina\xe7\xe3o para Cor"}),Object(Ae.jsx)("button",{type:"button",className:"close","data-bs-dismiss":"modal","aria-label":"Close",children:Object(Ae.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(Ae.jsx)(Na,{noticeColor:a})]})})})}var Ea=a(29),Da=a.n(Ea),Sa=a(41),Aa=function(){var e=Object(l.b)();return Object(Ae.jsx)(pt.b,{onSubmit:function(t){e(function(e){return function(t,a){console.log("ploadFileVARequestDocx:",e);var n=new FormData;n.append("va_padrao",e.va_padrao);try{D.a.post("https://api.auditoriaitajai.com.br/api/filevarequestdocx/",n,Y(a,{"Content-Type":"multipart/form-data"})).then((function(e){t(S({SUCCESS:e.data.detail}))})).catch((function(e){t(A(e))}))}catch(c){console.log(c)}}}(t))},render:function(t){var a=t.handleSubmit,n=t.form,c=t.submitting,i=t.pristine;return Object(Ae.jsx)("form",{onSubmit:function(){var e=Object(Sa.a)(Da.a.mark((function e(t){return Da.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t);case 2:n.reset();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),className:"needs-validation",noValidate:!0,children:Object(Ae.jsxs)("div",{className:"container",children:[Object(Ae.jsx)("div",{className:"row",children:Object(Ae.jsxs)("span",{children:["Pedido de ",Object(Ae.jsx)("strong",{children:"VA"})," (documento padr\xe3o):"]})}),Object(Ae.jsx)("div",{className:"row mb-1",children:Object(Ae.jsx)("button",{className:"btn btn-secondary btn-sm",type:"button",onClick:function(){return e((function(e,t){var a=Object.assign({},{responseType:"blob"},Y(t));try{D.a.get("https://api.auditoriaitajai.com.br/api/filevarequestdocx/",a).then((function(e){var t=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download="va_padrao.docx",n.click(),URL.revokeObjectURL(a)})).catch((function(t){e(A(t))}))}catch(n){console.log(n)}}))},children:"Baixar arquivo atual"})}),Object(Ae.jsx)("div",{className:"row mb-1",children:Object(Ae.jsx)(Nt,{name:"va_padrao",id:"va_padrao",label:"Escolha um arquivo"})}),Object(Ae.jsx)("div",{className:"row",children:Object(Ae.jsx)("button",{className:"btn btn-primary btn-sm",type:"submit",disabled:c||i,children:"Upload"})})]})})}})},Ta=function(){var e=Object(l.b)();return Object(Ae.jsx)(pt.b,{onSubmit:function(t){e(function(e){return function(t,a){console.log("uploadFileRFRequestDocx:",e);var n=new FormData;n.append("rf_padrao",e.rf_padrao);try{D.a.post("https://api.auditoriaitajai.com.br/api/filerfrequestdocx/",n,Y(a,{"Content-Type":"multipart/form-data"})).then((function(e){t(S({SUCCESS:e.data.detail}))})).catch((function(e){t(A(e))}))}catch(c){console.log(c)}}}(t))},render:function(t){var a=t.handleSubmit,n=t.form,c=t.submitting,i=t.pristine;return Object(Ae.jsx)("form",{onSubmit:function(){var e=Object(Sa.a)(Da.a.mark((function e(t){return Da.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t);case 2:n.reset();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),className:"needs-validation",noValidate:!0,children:Object(Ae.jsxs)("div",{className:"container",children:[Object(Ae.jsx)("div",{className:"row",children:Object(Ae.jsxs)("span",{children:["Pedido de ",Object(Ae.jsx)("strong",{children:"RF"})," (documento padr\xe3o):"]})}),Object(Ae.jsx)("div",{className:"row mb-1",children:Object(Ae.jsx)("button",{className:"btn btn-secondary btn-sm",type:"button",onClick:function(){return e((function(e,t){var a=Object.assign({},{responseType:"blob"},Y(t));try{D.a.get("https://api.auditoriaitajai.com.br/api/filerfrequestdocx/",a).then((function(e){var t=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download="rf_padrao.docx",n.click(),URL.revokeObjectURL(a)})).catch((function(t){e(A(t))}))}catch(n){console.log(n)}}))},children:"Baixar arquivo atual"})}),Object(Ae.jsx)("div",{className:"row mb-1",children:Object(Ae.jsx)(Nt,{name:"rf_padrao",id:"rf_padrao",label:"Escolha um arquivo"})}),Object(Ae.jsx)("div",{className:"row",children:Object(Ae.jsx)("button",{className:"btn btn-primary btn-sm",type:"submit",disabled:c||i,children:"Upload"})})]})})}})};function Ma(){return Object(Ae.jsx)("div",{className:"container-fluid",children:Object(Ae.jsxs)("div",{className:"row no-gutters row-cols-1 row-cols-lg-3 justify-content-md-center",children:[Object(Ae.jsx)("div",{className:"col col-12 col-lg-5 mx-2",children:Object(Ae.jsx)(Ta,{})}),Object(Ae.jsx)("div",{className:"col col-12 col-lg-5 mx-2",children:Object(Ae.jsx)(Aa,{})})]})})}var Ca=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.imovel.updatelog})),a=Object(c.useState)(Fe.a.duration()),n=Object(Pe.a)(a,2),i=n[0],r=n[1];return Object(c.useEffect)((function(){var e=Fe()(t.datetime).diff(t.datetime_started);r(Fe.a.duration(e))}),[t]),Object(Ae.jsx)(pt.b,{initialValues:{check:""},onSubmit:function(t){var a;e((a=t,function(e,t){var n=Object.assign({},{params:a},Y(t));D.a.get("https://api.auditoriaitajai.com.br/api/geoitajai/",n).then((function(t){e({type:"IMOVEL_UPDATEDATA",payload:t.data}),"N\xe3o Autorizado"===t.data.response?e(S({ERROR:t.data.response})):e(S({SUCCESS:t.data.response}))})).catch((function(t){e(A(t))}))})),setTimeout((function(){e(le())}),300)},render:function(e){var a=e.handleSubmit;return Object(Ae.jsxs)("form",{onSubmit:a,className:"needs-validation",noValidate:!0,children:[Object(Ae.jsx)("h5",{children:"Atualizar lista de im\xf3veis"}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)(xt,{name:"check",label:"Data: ",className:"m-1",validate:Ot})}),Object(Ae.jsxs)("span",{style:{color:"red"},children:["Obs.: O processo leva v\xe1rios minutos para completar, esta ferramenta n\xe3o deve ser utilizado com frequencia.",Object(Ae.jsx)("br",{}),'Escreva a data de hoje no formato "',Fe()().format("YYYY-MM-DD"),'".']}),Object(Ae.jsx)("div",{className:"form-inline",children:Object(Ae.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold m-2",children:"Atualizar"})}),t&&Object(Ae.jsxs)("ul",{className:"list-group p-1 m-2 border",children:[Object(Ae.jsxs)("li",{className:"list-group-item p-0 border-0",children:["\xdaltimo Log: ",t.datetime]}),Object(Ae.jsxs)("li",{className:"list-group-item p-0 border-0",children:[t.status,": ",t.response]}),Object(Ae.jsx)("li",{className:"list-group-item p-0 border-0",children:"Status da leitura do arquivo:"}),Object(Ae.jsxs)("li",{className:"list-group-item p-0 border-0",children:["Total: ",t.total," / Inalterados: ",t.inalterados," ","/ Alterados: ",t.alterados," / Novos: ",t.novos]}),Object(Ae.jsxs)("li",{className:"list-group-item p-0 border-0",children:[Object(Ae.jsx)("div",{className:"progress",children:Object(Ae.jsx)("div",{className:"progress-bar w-"+100*t.progresso,role:"progressbar","aria-valuenow":100*t.progresso,"aria-valuemin":"0","aria-valuemax":"100"})}),"Dura\xe7\xe3o:"," ",i.hours()+" horas, "+i.minutes()+" minutos e "+i.seconds()+" segundos"]})]})]})}})},Ya=(a(119),function(e){var t=e.name,a=e.title,n=(e.accordionId,e.children);return Object(Ae.jsxs)("div",{className:"card",children:[Object(Ae.jsx)("div",{className:"card-header collapsed",id:"header"+t,type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+t,"aria-expanded":"true","aria-controls":"collapse"+t,children:Object(Ae.jsx)("h5",{className:"mb-0",children:a})}),Object(Ae.jsx)("div",{id:"collapse"+t,className:"collapse","aria-labelledby":t,"data-bs-parent":"#header"+t,children:Object(Ae.jsx)("div",{className:"card-body",children:n})})]})});function ka(){var e=Object(l.b)();return Object(c.useEffect)((function(){e(le());var t=setInterval((function(){e(le())}),3e4);return function(){clearInterval(t)}}),[e]),Object(Ae.jsxs)("div",{children:[Object(Ae.jsx)(da,{}),Object(Ae.jsx)(ja,{}),Object(Ae.jsx)(va,{}),Object(Ae.jsx)(ha,{}),Object(Ae.jsx)(wa,{}),Object(Ae.jsx)(_a,{}),Object(Ae.jsxs)("div",{className:"mx-5 mt-2",children:[Object(Ae.jsx)("a",{href:"https://materializecss.com/color.html#palette",target:"_blank",rel:"noreferrer noopener",children:"Paleta de cores para refer\xeancia"}),Object(Ae.jsxs)("div",{className:"accordion mt-2",id:"accordionAdmin",children:[Object(Ae.jsx)(Ya,{name:"user",title:"Lista de usu\xe1rios",accordionId:"accordionAdmin",children:Object(Ae.jsx)(sa,{})}),Object(Ae.jsx)(Ya,{name:"report",title:"Lista de Tipos de Relat\xf3rios",accordionId:"accordionAdmin",children:Object(Ae.jsx)(ua,{})}),Object(Ae.jsx)(Ya,{name:"survey",title:"Lista de Tipos de Vistorias",accordionId:"accordionAdmin",children:Object(Ae.jsx)(ma,{})}),Object(Ae.jsx)(Ya,{name:"notice",title:"Lista de Tipos de Autos e relacionados",accordionId:"accordionAdmin",children:Object(Ae.jsx)(fa,{})}),Object(Ae.jsx)(Ya,{name:"noticecolor",title:"Lista de Cores para data de in\xedcio dos Autos e relacionados",accordionId:"accordionAdmin",children:Object(Ae.jsx)(ga,{})}),Object(Ae.jsx)(Ya,{name:"noticefile",title:"Lista de Notifica\xe7\xf5es dos Autos",accordionId:"accordionAdmin",children:Object(Ae.jsx)(xa,{})}),Object(Ae.jsx)(Ya,{name:"documentos_va_rf",title:"Upload de documentos padr\xf5es (VA e RF)",accordionId:"accordionAdmin",children:Object(Ae.jsx)(Ma,{})}),Object(Ae.jsx)(Ya,{name:"update_imoveis",title:"Atualizar im\xf3veis",accordionId:"accordionAdmin",children:Object(Ae.jsx)(Ca,{})})]})]})]})}var Ra=function(e){var t=Object(c.useState)(e),a=Object(Pe.a)(t,2),n=a[0],i=a[1];return{value:n,setValue:i,reset:function(){return i("")},bind:{value:n,onChange:function(e){i(e.target.value)}}}},La=function(){var e=Object(De.g)(),t=Object(l.c)((function(e){return e.auth})),a=Object(l.b)(),n=Object(c.useState)(!1),i=Object(Pe.a)(n,2),r=i[0],o=i[1],d=Ra(""),u=d.value,b=d.bind,j=d.reset,m=Ra(""),p=m.value,O=m.bind,h=m.reset;Object(c.useEffect)((function(){t.isAuthenticated&&!r?a(M()):t.isAuthenticated&&r&&e.push("/")}),[a,t,r,e]);return Object(Ae.jsx)("div",{className:"h-100 v-100 d-grid justify-content-center pt-2 pt-lg-5",children:Object(Ae.jsxs)("form",{className:"form-signin",onSubmit:function(e){e.preventDefault(),a(function(e,t){return function(a){var n={headers:{Authorization:"Basic ".concat(btoa(e+":"+t))}};D.a.post("https://api.auditoriaitajai.com.br/api/auth/login/",null,n).then((function(e){a(S("Bem vindo")),a({type:v,payload:e.data}),a(T())})).catch((function(e){a(A(e)),a({type:f})}))}}(u,p)),j(),h(),o(!0)},children:[Object(Ae.jsx)("div",{className:"mb-lg-3 row",children:Object(Ae.jsx)("h3",{className:"mb-lg-3 font-weight-normal",children:"Acesso restrito"})}),Object(Ae.jsxs)("div",{className:"mb-lg-3 row",children:[Object(Ae.jsx)("label",{htmlFor:"staticEmail",className:"col-lg-3 col-form-label",children:"Usu\xe1rio:"}),Object(Ae.jsx)("div",{className:"col-lg-9",children:Object(Ae.jsx)("input",Object(s.a)({type:"text",className:"form-control",id:"inputUsername"},b))})]}),Object(Ae.jsxs)("div",{className:"mb-2 mb-lg-3 row",children:[Object(Ae.jsx)("label",{htmlFor:"inputPassword",className:"col-lg-3 col-form-label",children:"Senha:"}),Object(Ae.jsx)("div",{className:"col-lg-9",children:Object(Ae.jsx)("input",Object(s.a)({type:"password",className:"form-control",id:"inputPassword"},O))})]}),Object(Ae.jsx)("div",{className:"mb-2 mb-lg-3 text-center",children:Object(Ae.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Entrar"})})]})})},Ia=function(){var e=Object(l.b)();return Object(c.useEffect)((function(){e(M())}),[e]),Object(Ae.jsx)(De.a,{to:"/login"})},Ua=(a(120),function(e){var t=e.component,a=Object(Se.a)(e,["component"]),n=Object(l.c)((function(e){return e.auth}));return Object(Ae.jsx)(De.b,Object(s.a)(Object(s.a)({},a),{},{render:function(e){return n.isLoading||null==n.isAuthenticated?Object(Ae.jsx)(Te,{}):n.isAuthenticated?n.user.is_staff?Object(Ae.jsx)(t,Object(s.a)({},e)):Object(Ae.jsx)(De.a,{to:"/NotAutorized"}):Object(Ae.jsx)(De.a,{to:"/login"})}}))}),Va=function(){Object(c.useEffect)((function(){ge.dispatch(T()),ge.dispatch(pe.read())}),[]);return Object(Ae.jsx)(l.a,{store:ge,children:Object(Ae.jsx)(we.a,Object(s.a)(Object(s.a)({template:Ue},{timeout:5e3,position:"bottom center",containerStyle:{zIndex:1070}}),{},{children:Object(Ae.jsxs)(Ee.a,{children:[Object(Ae.jsx)(Ie,{}),Object(Ae.jsx)(ke,{}),Object(Ae.jsx)("main",{role:"main",children:Object(Ae.jsxs)(De.d,{children:[Object(Ae.jsx)(Me,{exact:!0,path:"/",component:qt}),Object(Ae.jsx)(Me,{exact:!0,path:"/perfil",component:Xt}),Object(Ae.jsx)(Me,{exact:!0,path:"/calendario",component:qt}),Object(Ae.jsx)(Me,{exact:!0,path:"/tarefas",component:Ht}),Object(Ae.jsx)(Me,{exact:!0,path:"/aconcluir",component:ca}),Object(Ae.jsx)(Ua,{exact:!0,path:"/admin",component:ka}),Object(Ae.jsx)(Me,{exact:!0,path:"/busca",component:oa}),Object(Ae.jsx)(Me,{exact:!0,path:"/incompativel",component:ia}),Object(Ae.jsx)(De.b,{exact:!0,path:"/login",component:La}),Object(Ae.jsx)(De.b,{exact:!0,path:"/logout",component:Ia}),Object(Ae.jsx)(De.b,{exact:!0,path:"/loading",component:Te}),Object(Ae.jsx)(De.b,{component:Ce})]})}),Object(Ae.jsx)(Re,{})]})}))})};o.a.render(Object(Ae.jsx)(i.a.StrictMode,{children:Object(Ae.jsx)(Va,{})}),document.getElementById("root"))},53:function(e,t,a){}},[[121,1,2]]]);
//# sourceMappingURL=main.9402af1f.chunk.js.map